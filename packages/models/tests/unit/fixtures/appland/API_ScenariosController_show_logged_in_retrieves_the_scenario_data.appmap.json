{
  "events": [
    {
      "id": 1,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "ApiKey",
      "method_id": "issue",
      "path": "app/models/api_key.rb",
      "lineno": 28,
      "static": true,
      "parameters": [
        {
          "name": "login",
          "class": "String",
          "object_id": 70342552729720,
          "value": "alice",
          "kind": "req"
        },
        {
          "name": "description",
          "class": "NilClass",
          "object_id": 8,
          "value": null,
          "kind": "key"
        },
        {
          "name": "encode",
          "class": "NilClass",
          "object_id": 8,
          "value": null,
          "kind": "key"
        }
      ],
      "receiver": {
        "class": "Class",
        "object_id": 70342537284160,
        "value": "ApiKey"
      }
    },
    {
      "id": 2,
      "event": "call",
      "thread_id": 70342530023440,
      "sql_query": {
        "sql": "INSERT INTO \"api_keys\" (\"login\") VALUES ('alice') RETURNING *",
        "database_type": "postgres",
        "server_version": 120003
      }
    },
    {
      "id": 3,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 2,
      "elapsed": 0.001219
    },
    {
      "id": 4,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "ApiKey",
      "method_id": "encode",
      "path": "app/models/api_key.rb",
      "lineno": 20,
      "static": true,
      "parameters": [
        {
          "name": "api_key",
          "class": "DAO::ApiKey",
          "object_id": 70342552806780,
          "value": "#<DAO::ApiKey:0x00007ff3cdbecaf8>",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Class",
        "object_id": 70342537284160,
        "value": "ApiKey"
      }
    },
    {
      "id": 5,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 4,
      "elapsed": 0.000019,
      "return_value": {
        "class": "String",
        "value": "YWxpY2U6NDAxZDA5ZDQtYjVjYy00Y2JhLWFkNTctOWIwNDkyMDBiNjBi",
        "object_id": 70342558057520
      }
    },
    {
      "id": 6,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 1,
      "elapsed": 0.005098,
      "return_value": {
        "class": "String",
        "value": "YWxpY2U6NDAxZDA5ZDQtYjVjYy00Y2JhLWFkNTctOWIwNDkyMDBiNjBi",
        "object_id": 70342558057520
      }
    },
    {
      "id": 7,
      "event": "call",
      "thread_id": 70342530023440,
      "http_server_request": {
        "request_method": "GET",
        "path_info": "/api/scenarios/724151a3-cc7b-4ef3-ac6b-5380fe59217c",
        "normalized_path_info": "/api/scenarios/:id(.:format)"
      },
      "message": [
        {
          "name": "mode",
          "class": "String",
          "value": "full",
          "object_id": 70342558111360
        },
        {
          "name": "controller",
          "class": "String",
          "value": "api/scenarios",
          "object_id": 70342617224900
        },
        {
          "name": "action",
          "class": "String",
          "value": "show",
          "object_id": 70342617202880
        },
        {
          "name": "id",
          "class": "String",
          "value": "724151a3-cc7b-4ef3-ac6b-5380fe59217c",
          "object_id": 70342558093140
        }
      ]
    },
    {
      "id": 8,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "ApiKey",
      "method_id": "authenticate",
      "path": "app/models/api_key.rb",
      "lineno": 52,
      "static": true,
      "parameters": [
        {
          "name": "api_key",
          "class": "String",
          "object_id": 70342558126700,
          "value": "YWxpY2U6NDAxZDA5ZDQtYjVjYy00Y2JhLWFkNTctOWIwNDkyMDBiNjBi",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Class",
        "object_id": 70342537284160,
        "value": "ApiKey"
      }
    },
    {
      "id": 9,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "ApiKey",
      "method_id": "decode",
      "path": "app/models/api_key.rb",
      "lineno": 24,
      "static": true,
      "parameters": [
        {
          "name": "api_key",
          "class": "String",
          "object_id": 70342558126700,
          "value": "YWxpY2U6NDAxZDA5ZDQtYjVjYy00Y2JhLWFkNTctOWIwNDkyMDBiNjBi",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Class",
        "object_id": 70342537284160,
        "value": "ApiKey"
      }
    },
    {
      "id": 10,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 9,
      "elapsed": 0.000014,
      "return_value": {
        "class": "Array",
        "value": "[\"alice\", \"401d09d4-b5cc-4cba-ad57-9b049200b60b\"]",
        "object_id": 70342558123140
      }
    },
    {
      "id": 11,
      "event": "call",
      "thread_id": 70342530023440,
      "sql_query": {
        "sql": "SELECT * FROM \"api_keys\" WHERE (\"login\" = 'alice')",
        "database_type": "postgres",
        "server_version": 120003
      }
    },
    {
      "id": 12,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 11,
      "elapsed": 0.001048
    },
    {
      "id": 13,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "ApiKey",
      "method_id": "touch",
      "path": "app/models/api_key.rb",
      "lineno": 11,
      "static": true,
      "parameters": [
        {
          "name": "api_key",
          "class": "DAO::ApiKey",
          "object_id": 70342635491100,
          "value": "#<DAO::ApiKey:0x00007ff3d79a1e38>",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Class",
        "object_id": 70342537284160,
        "value": "ApiKey"
      }
    },
    {
      "id": 14,
      "event": "call",
      "thread_id": 70342530023440,
      "sql_query": {
        "sql": "UPDATE \"api_keys\" SET \"last_used\" = '2021-02-01 15:53:43.194564+0000' WHERE (\"id\" = 2)",
        "database_type": "postgres",
        "server_version": 120003
      }
    },
    {
      "id": 15,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 14,
      "elapsed": 0.001117
    },
    {
      "id": 16,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 13,
      "elapsed": 0.006039,
      "return_value": {
        "class": "DAO::ApiKey",
        "value": "#<DAO::ApiKey:0x00007ff3d79a1e38>",
        "object_id": 70342635491100
      }
    },
    {
      "id": 17,
      "event": "call",
      "thread_id": 70342530023440,
      "sql_query": {
        "sql": "SELECT * FROM \"users\" WHERE (\"users\".\"login\" = 'alice') LIMIT 1",
        "database_type": "postgres",
        "server_version": 120003
      }
    },
    {
      "id": 18,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 17,
      "elapsed": 0.001164
    },
    {
      "id": 19,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 8,
      "elapsed": 0.034327,
      "return_value": {
        "class": "User::Show",
        "value": "#<User::Show:0x00007ff3d69a0390>",
        "object_id": 70342627099080
      }
    },
    {
      "id": 20,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "Scenario::SearchActions",
      "method_id": "find!",
      "path": "app/models/scenario.rb",
      "lineno": 128,
      "static": false,
      "parameters": [
        {
          "name": "id",
          "class": "String",
          "object_id": 70342558093140,
          "value": "724151a3-cc7b-4ef3-ac6b-5380fe59217c",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Scenario::Search",
        "object_id": 70342627137540,
        "value": "#<Scenario::Search:0x00007ff3d69b3008>"
      }
    },
    {
      "id": 21,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "Scenario::SearchActions",
      "method_id": "find",
      "path": "app/models/scenario.rb",
      "lineno": 132,
      "static": false,
      "parameters": [
        {
          "name": "id",
          "class": "String",
          "object_id": 70342558093140,
          "value": "724151a3-cc7b-4ef3-ac6b-5380fe59217c",
          "kind": "req"
        },
        {
          "name": "must",
          "class": "TrueClass",
          "object_id": 20,
          "value": "true",
          "kind": "key"
        }
      ],
      "receiver": {
        "class": "Scenario::Search",
        "object_id": 70342627137540,
        "value": "#<Scenario::Search:0x00007ff3d69b3008>"
      }
    },
    {
      "id": 22,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "Search",
      "method_id": "filter",
      "path": "app/models/search.rb",
      "lineno": 33,
      "static": false,
      "parameters": [
        {
          "name": "dataset",
          "class": "Class",
          "object_id": 70342539022120,
          "value": "DAO::Scenario",
          "kind": "req"
        },
        {
          "name": "table_name",
          "class": "NilClass",
          "object_id": 8,
          "value": null,
          "kind": "key"
        }
      ],
      "receiver": {
        "class": "Scenario::Search",
        "object_id": 70342627137540,
        "value": "#<Scenario::Search:0x00007ff3d69b3008>"
      }
    },
    {
      "id": 23,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "User::Show",
      "method_id": "admin?",
      "path": "app/models/user.rb",
      "lineno": 106,
      "static": false,
      "receiver": {
        "class": "User::Show",
        "object_id": 70342627099080,
        "value": "#<User::Show:0x00007ff3d69a0390>"
      }
    },
    {
      "id": 24,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 23,
      "elapsed": 0.000009
    },
    {
      "id": 25,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "DAO::PublicResource",
      "method_id": "coerce",
      "path": "app/models/dao/public_resource.rb",
      "lineno": 18,
      "static": true,
      "parameters": [
        {
          "name": "dataset",
          "class": "Class",
          "object_id": 70342539022120,
          "value": "DAO::Scenario",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 70342613690280,
        "value": "DAO::PublicResource"
      }
    },
    {
      "id": 26,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 25,
      "elapsed": 0.000007,
      "return_value": {
        "class": "Class",
        "value": "DAO::Scenario",
        "object_id": 70342539022120
      }
    },
    {
      "id": 27,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "DAO::PublicResource",
      "method_id": "scope",
      "path": "app/models/dao/public_resource.rb",
      "lineno": 26,
      "static": true,
      "parameters": [
        {
          "name": "user",
          "class": "User::Show",
          "object_id": 70342627099080,
          "value": "#<User::Show:0x00007ff3d69a0390>",
          "kind": "req"
        },
        {
          "name": "scope",
          "class": "Integer",
          "object_id": 7,
          "value": "3",
          "kind": "key"
        }
      ],
      "receiver": {
        "class": "Class",
        "object_id": 70342539022120,
        "value": "DAO::Scenario"
      }
    },
    {
      "id": 28,
      "event": "call",
      "thread_id": 70342530023440,
      "sql_query": {
        "sql": "SELECT * FROM \"users\" WHERE \"id\" = 1000001",
        "database_type": "postgres",
        "server_version": 120003
      }
    },
    {
      "id": 29,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 28,
      "elapsed": 0.001218
    },
    {
      "id": 30,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "DAO::SequelUtil",
      "method_id": "build_where_clause",
      "path": "app/models/dao/sequel_util.rb",
      "lineno": 6,
      "static": true,
      "parameters": [
        {
          "name": "dataset",
          "class": "Sequel::Postgres::Dataset",
          "object_id": 70342616038680,
          "value": "#<Sequel::Postgres::Dataset:0x00007ff3d5487a30>",
          "kind": "req"
        },
        {
          "name": "clauses",
          "class": "Array",
          "object_id": 70342628250800,
          "value": "[{:org=>#<Sequel::Postgres::Dataset: \"SELECT \\\"orgs\\\".* FROM \\\"orgs\\\" INNER JOIN \\\"users_orgs\\\" ON (",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 70342629604880,
        "value": "DAO::SequelUtil"
      }
    },
    {
      "id": 31,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 30,
      "elapsed": 0.000052,
      "return_value": {
        "class": "Sequel::Postgres::Dataset",
        "value": "#<Sequel::Postgres::Dataset:0x00007ff3d6bee638>",
        "object_id": 70342628307740
      }
    },
    {
      "id": 32,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "DAO::SequelUtil",
      "method_id": "build_where_clause",
      "path": "app/models/dao/sequel_util.rb",
      "lineno": 6,
      "static": true,
      "parameters": [
        {
          "name": "dataset",
          "class": "Sequel::Postgres::Dataset",
          "object_id": 70342616557400,
          "value": "#<Sequel::Postgres::Dataset:0x00007ff3d5584eb0>",
          "kind": "req"
        },
        {
          "name": "clauses",
          "class": "Array",
          "object_id": 70342628251960,
          "value": "[{:org=>#<Sequel::Postgres::Dataset: \"SELECT \\\"orgs\\\".* FROM \\\"orgs\\\" INNER JOIN \\\"users_orgs\\\" ON (",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 70342629604880,
        "value": "DAO::SequelUtil"
      }
    },
    {
      "id": 33,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 32,
      "elapsed": 0.000059,
      "return_value": {
        "class": "Sequel::Postgres::Dataset",
        "value": "#<Sequel::Postgres::Dataset:0x00007ff3d6bdd338>",
        "object_id": 70342628272540
      }
    },
    {
      "id": 34,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 27,
      "elapsed": 0.006855,
      "return_value": {
        "class": "Sequel::Postgres::Dataset",
        "value": "#<Sequel::Postgres::Dataset:0x00007ff3d6bdd338>",
        "object_id": 70342628272540
      }
    },
    {
      "id": 35,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 22,
      "elapsed": 0.007146,
      "return_value": {
        "class": "Sequel::Postgres::Dataset",
        "value": "#<Sequel::Postgres::Dataset:0x00007ff3d6bdd338>",
        "object_id": 70342628272540
      }
    },
    {
      "id": 36,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "Scenario",
      "method_id": "find",
      "path": "app/models/scenario.rb",
      "lineno": 235,
      "static": true,
      "parameters": [
        {
          "name": "id",
          "class": "String",
          "object_id": 70342558093140,
          "value": "724151a3-cc7b-4ef3-ac6b-5380fe59217c",
          "kind": "req"
        },
        {
          "name": "must",
          "class": "TrueClass",
          "object_id": 20,
          "value": "true",
          "kind": "key"
        },
        {
          "name": "dataset",
          "class": "Sequel::Postgres::Dataset",
          "object_id": 70342628272540,
          "value": "#<Sequel::Postgres::Dataset:0x00007ff3d6bdd338>",
          "kind": "key"
        }
      ],
      "receiver": {
        "class": "Class",
        "object_id": 70342535266240,
        "value": "Scenario"
      }
    },
    {
      "id": 37,
      "event": "call",
      "thread_id": 70342530023440,
      "sql_query": {
        "sql": "SELECT \"id\" FROM \"scenarios\" WHERE (((\"scenarios\".\"org_id\" IN (SELECT \"orgs\".\"id\" FROM \"orgs\" INNER JOIN \"users_orgs\" ON (\"users_orgs\".\"org_id\" = \"orgs\".\"id\") WHERE ((\"users_orgs\".\"user_id\" = 1000001) AND (\"orgs\".\"id\" IS NOT NULL)))) OR (\"scenarios\".\"mapset_id\" IN (SELECT \"mapsets\".\"id\" FROM \"mapsets\" WHERE ((\"mapsets\".\"app_id\" IN (SELECT \"apps\".\"id\" FROM \"apps\" WHERE (((\"apps\".\"org_id\" IN (SELECT \"orgs\".\"id\" FROM \"orgs\" INNER JOIN \"users_orgs\" ON (\"users_orgs\".\"org_id\" = \"orgs\".\"id\") WHERE ((\"users_orgs\".\"user_id\" = 1000001) AND (\"orgs\".\"id\" IS NOT NULL)))) OR (\"public\" IS TRUE)) AND (\"apps\".\"id\" IS NOT NULL)))) AND (\"mapsets\".\"id\" IS NOT NULL)))) OR (\"link_sharing\" IS TRUE)) AND (\"uuid\" = '724151a3-cc7b-4ef3-ac6b-5380fe59217c')) LIMIT 1",
        "database_type": "postgres",
        "server_version": 120003
      }
    },
    {
      "id": 38,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 37,
      "elapsed": 0.001921
    },
    {
      "id": 39,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 36,
      "elapsed": 0.006625,
      "return_value": {
        "class": "Scenario::Show",
        "value": "#<Scenario::Show:0x00007ff3d6de5db0>",
        "object_id": 70342629338840
      }
    },
    {
      "id": 40,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 21,
      "elapsed": 0.014001,
      "return_value": {
        "class": "Scenario::Show",
        "value": "#<Scenario::Show:0x00007ff3d6de5db0>",
        "object_id": 70342629338840
      }
    },
    {
      "id": 41,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 20,
      "elapsed": 0.014114,
      "return_value": {
        "class": "Scenario::Show",
        "value": "#<Scenario::Show:0x00007ff3d6de5db0>",
        "object_id": 70342629338840
      }
    },
    {
      "id": 42,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "API::ScenariosController",
      "method_id": "show",
      "path": "app/controllers/api/scenarios_controller.rb",
      "lineno": 17,
      "static": false,
      "receiver": {
        "class": "API::ScenariosController",
        "object_id": 70342558091600,
        "value": "#<API::ScenariosController:0x00007ff3ce6012a0>"
      }
    },
    {
      "id": 43,
      "event": "call",
      "thread_id": 70342530023440,
      "sql_query": {
        "sql": "SELECT * FROM \"scenarios\" WHERE \"id\" = 100002",
        "database_type": "postgres",
        "server_version": 120003
      }
    },
    {
      "id": 44,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 43,
      "elapsed": 0.001081
    },
    {
      "id": 45,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "JSON::Ext::Parser",
      "method_id": "parse",
      "path": "JSON::Ext::Parser#parse",
      "static": false,
      "receiver": {
        "class": "JSON::Ext::Parser",
        "object_id": 70342540922000,
        "value": "#<JSON::Ext::Parser:0x00007ff3cc541920>"
      }
    },
    {
      "id": 46,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 45,
      "elapsed": 0.000088,
      "return_value": {
        "class": "Hash",
        "value": "{\"events\"=>[{\"id\"=>1, \"event\"=>\"call\", \"message\"=>[{\"name\"=>\"login\", \"class\"=>\"String\", \"value\"=>\"al",
        "object_id": 70342540920980
      }
    },
    {
      "id": 47,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "JSON::Ext::Parser",
      "method_id": "parse",
      "path": "JSON::Ext::Parser#parse",
      "static": false,
      "receiver": {
        "class": "JSON::Ext::Parser",
        "object_id": 70342541466120,
        "value": "#<JSON::Ext::Parser:0x00007ff3cc64b410>"
      }
    },
    {
      "id": 48,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 47,
      "elapsed": 0.000012,
      "return_value": {
        "class": "Hash",
        "value": "{\"git\"=>{\"branch\"=>\"test\", \"commit\"=>\"4c7a6de016ab523f6606de1901ee785ac9525b96\", \"repository\"=>\"git@",
        "object_id": 70342541464400
      }
    },
    {
      "id": 49,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "JSON::Ext::Parser",
      "method_id": "parse",
      "path": "JSON::Ext::Parser#parse",
      "static": false,
      "receiver": {
        "class": "JSON::Ext::Parser",
        "object_id": 70342541462340,
        "value": "#<JSON::Ext::Parser:0x00007ff3cc649688>"
      }
    },
    {
      "id": 50,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 49,
      "elapsed": 0.000023,
      "return_value": {
        "class": "Array",
        "value": "[{\"name\"=>\"controllers\", \"type\"=>\"package\", \"children\"=>[{\"name\"=>\"SessionsController\", \"type\"=>\"cla",
        "object_id": 70342541460520
      }
    },
    {
      "id": 51,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "JSON::Ext::Parser",
      "method_id": "parse",
      "path": "JSON::Ext::Parser#parse",
      "static": false,
      "receiver": {
        "class": "JSON::Ext::Parser",
        "object_id": 70342541494300,
        "value": "#<JSON::Ext::Parser:0x00007ff3cc659038>"
      }
    },
    {
      "id": 52,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 51,
      "elapsed": 0.000011,
      "return_value": {
        "class": "Array",
        "value": "[{\"id\"=>2, \"self\"=>{\"class\"=>\"User\", \"value\"=>\"#<User:0x0000000000000000>\", \"object_id\"=>2}, \"event\"",
        "object_id": 70342541533020
      }
    },
    {
      "id": 53,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "JSON::Ext::Parser",
      "method_id": "parse",
      "path": "JSON::Ext::Parser#parse",
      "static": false,
      "receiver": {
        "class": "JSON::Ext::Parser",
        "object_id": 70342541531840,
        "value": "#<JSON::Ext::Parser:0x00007ff3cc66b580>"
      }
    },
    {
      "id": 54,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 53,
      "elapsed": 0.000013,
      "return_value": {
        "class": "Array",
        "value": "[{\"id\"=>1, \"event\"=>\"call\", \"message\"=>[{\"name\"=>\"login\", \"class\"=>\"String\", \"value\"=>\"alice\", \"obje",
        "object_id": 70342541530800
      }
    },
    {
      "id": 55,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "JSON::Ext::Parser",
      "method_id": "parse",
      "path": "JSON::Ext::Parser#parse",
      "static": false,
      "receiver": {
        "class": "JSON::Ext::Parser",
        "object_id": 70342541529380,
        "value": "#<JSON::Ext::Parser:0x00007ff3cc66a248>"
      }
    },
    {
      "id": 56,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 55,
      "elapsed": 0.000012,
      "return_value": {
        "class": "Array",
        "value": "[{\"id\"=>1, \"event\"=>\"call\", \"message\"=>[{\"name\"=>\"login\", \"class\"=>\"String\", \"value\"=>\"alice\", \"obje",
        "object_id": 70342541528400
      }
    },
    {
      "id": 57,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "JSON::Ext::Parser",
      "method_id": "parse",
      "path": "JSON::Ext::Parser#parse",
      "static": false,
      "receiver": {
        "class": "JSON::Ext::Parser",
        "object_id": 70342541527020,
        "value": "#<JSON::Ext::Parser:0x00007ff3cc668fd8>"
      }
    },
    {
      "id": 58,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 57,
      "elapsed": 0.000004,
      "return_value": {
        "class": "Array",
        "value": "[]",
        "object_id": 70342541526020
      }
    },
    {
      "id": 59,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "JSON::Ext::Parser",
      "method_id": "parse",
      "path": "JSON::Ext::Parser#parse",
      "static": false,
      "receiver": {
        "class": "JSON::Ext::Parser",
        "object_id": 70342541525560,
        "value": "#<JSON::Ext::Parser:0x00007ff3cc668470>"
      }
    },
    {
      "id": 60,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 59,
      "elapsed": 0.000013,
      "return_value": {
        "class": "Array",
        "value": "[{\"callee\"=>{\"class_name\"=>\"SQL\", \"package_name\"=>\"SQL\"}, \"caller\"=>{\"class_name\"=>\"POST /session(.:",
        "object_id": 70342541565540
      }
    },
    {
      "id": 61,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "JSON::Ext::Parser",
      "method_id": "parse",
      "path": "JSON::Ext::Parser#parse",
      "static": false,
      "receiver": {
        "class": "JSON::Ext::Parser",
        "object_id": 70342541564060,
        "value": "#<JSON::Ext::Parser:0x00007ff3cc67b138>"
      }
    },
    {
      "id": 62,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 61,
      "elapsed": 0.000012,
      "return_value": {
        "class": "Hash",
        "value": "{\"id\"=>6, \"path\"=>4, \"self\"=>2, \"event\"=>6, \"lineno\"=>4, \"message\"=>1, \"method_id\"=>4, \"parent_id\"=>",
        "object_id": 70342541562860
      }
    },
    {
      "id": 63,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "Scenario::Show",
      "method_id": "app",
      "path": "app/models/scenario.rb",
      "lineno": 402,
      "static": false,
      "receiver": {
        "class": "Scenario::Show",
        "object_id": 70342629338840,
        "value": "#<Scenario::Show:0x00007ff3d6de5db0>"
      }
    },
    {
      "id": 64,
      "event": "call",
      "thread_id": 70342530023440,
      "sql_query": {
        "sql": "SELECT * FROM \"mapsets\" WHERE \"id\" = 100001",
        "database_type": "postgres",
        "server_version": 120003
      }
    },
    {
      "id": 65,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 64,
      "elapsed": 0.000828
    },
    {
      "id": 66,
      "event": "call",
      "thread_id": 70342530023440,
      "sql_query": {
        "sql": "SELECT * FROM \"apps\" WHERE \"id\" = 100001",
        "database_type": "postgres",
        "server_version": 120003
      }
    },
    {
      "id": 67,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 66,
      "elapsed": 0.000957
    },
    {
      "id": 68,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "DAO::ToModel",
      "method_id": "to_model",
      "path": "app/models/dao/to_model.rb",
      "lineno": 5,
      "static": false,
      "receiver": {
        "class": "DAO::App",
        "object_id": 70342643141240,
        "value": "#<DAO::App:0x00007ff3d88394f0>"
      }
    },
    {
      "id": 69,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 68,
      "elapsed": 0.000012,
      "return_value": {
        "class": "App::Show",
        "value": "#<App::Show:0x00007ff3d79d7c18>",
        "object_id": 70342635601420
      }
    },
    {
      "id": 70,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 63,
      "elapsed": 0.009439,
      "return_value": {
        "class": "App::Show",
        "value": "#<App::Show:0x00007ff3d79d7c18>",
        "object_id": 70342635601420
      }
    },
    {
      "id": 71,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "Scenario::Show",
      "method_id": "last_modified_date",
      "path": "app/models/scenario.rb",
      "lineno": 430,
      "static": false,
      "receiver": {
        "class": "Scenario::Show",
        "object_id": 70342629338840,
        "value": "#<Scenario::Show:0x00007ff3d6de5db0>"
      }
    },
    {
      "id": 72,
      "event": "call",
      "thread_id": 70342530023440,
      "sql_query": {
        "sql": "SELECT \"updated_at\" FROM \"scenarios\" WHERE (\"id\" = 100002) LIMIT 1",
        "database_type": "postgres",
        "server_version": 120003
      }
    },
    {
      "id": 73,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 72,
      "elapsed": 0.000934
    },
    {
      "id": 74,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 71,
      "elapsed": 0.022083,
      "return_value": {
        "class": "Time",
        "value": "2021-02-01 15:53:42 UTC",
        "object_id": 70342627447480
      }
    },
    {
      "id": 75,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "DAO::Scenario",
      "method_id": "processed?",
      "path": "app/models/dao/scenario.rb",
      "lineno": 208,
      "static": false,
      "receiver": {
        "class": "DAO::Scenario",
        "object_id": 70342541560780,
        "value": "#<DAO::Scenario:0x00007ff3cc679798>"
      }
    },
    {
      "id": 76,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 75,
      "elapsed": 0.00001,
      "return_value": {
        "class": "TrueClass",
        "value": "true",
        "object_id": 20
      }
    },
    {
      "id": 77,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "DAO::Scenario",
      "method_id": "to_hash",
      "path": "app/models/dao/scenario.rb",
      "lineno": 164,
      "static": false,
      "receiver": {
        "class": "DAO::Scenario",
        "object_id": 70342541560780,
        "value": "#<DAO::Scenario:0x00007ff3cc679798>"
      }
    },
    {
      "id": 78,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 77,
      "elapsed": 0.000027,
      "return_value": {
        "class": "Hash",
        "value": "{:id=>100002, :created_at=>2021-02-01 15:53:42 UTC, :updated_at=>2021-02-01 15:53:42 UTC, :uuid=>\"72",
        "object_id": 70342540924920
      }
    },
    {
      "id": 79,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "JSON::Ext::Generator::State",
      "method_id": "generate",
      "path": "JSON::Ext::Generator::State#generate",
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "Hash",
          "object_id": 70342627694380,
          "value": "{\"id\"=>100002, \"created_at\"=>\"2021-02-01T15:53:42.223Z\", \"updated_at\"=>\"2021-02-01T15:53:42.223Z\", \"",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "JSON::Ext::Generator::State",
        "object_id": 70342627694320,
        "value": "#<JSON::Ext::Generator::State:0x00007ff3d6ac2de0>"
      }
    },
    {
      "id": 80,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 79,
      "elapsed": 0.001225,
      "return_value": {
        "class": "String",
        "value": "{\"id\":100002,\"created_at\":\"2021-02-01T15:53:42.223Z\",\"updated_at\":\"2021-02-01T15:53:42.223Z\",\"uuid\":",
        "object_id": 70342627893060
      }
    },
    {
      "id": 81,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 42,
      "elapsed": 0.041709,
      "return_value": {
        "class": "String",
        "value": "{\"id\":100002,\"created_at\":\"2021-02-01T15:53:42.223Z\",\"updated_at\":\"2021-02-01T15:53:42.223Z\",\"uuid\":",
        "object_id": 70342627893060
      }
    },
    {
      "id": 82,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 7,
      "elapsed": 0.091234,
      "http_server_response": {
        "status": 200,
        "mime_type": "application/json; charset=utf-8"
      }
    },
    {
      "id": 83,
      "event": "call",
      "thread_id": 70342530023440,
      "defined_class": "JSON::Ext::Parser",
      "method_id": "parse",
      "path": "JSON::Ext::Parser#parse",
      "static": false,
      "receiver": {
        "class": "JSON::Ext::Parser",
        "object_id": 70342534952360,
        "value": "#<JSON::Ext::Parser:0x00007ff3cb9deb50>"
      }
    },
    {
      "id": 84,
      "event": "return",
      "thread_id": 70342530023440,
      "parent_id": 83,
      "elapsed": 0.000098,
      "return_value": {
        "class": "Hash",
        "value": "{\"id\"=>100002, \"created_at\"=>\"2021-02-01T15:53:42.223Z\", \"updated_at\"=>\"2021-02-01T15:53:42.223Z\", \"",
        "object_id": 70342534948620
      }
    }
  ],
  "version": "1.4",
  "metadata": {
    "app": "appland/AppLand",
    "language": {
      "name": "ruby",
      "engine": "ruby",
      "version": "2.6.6"
    },
    "client": {
      "name": "appmap",
      "url": "https://github.com/getappmap/appmap-ruby",
      "version": "0.40.0"
    },
    "frameworks": [
      {
        "name": "rails",
        "version": "5.2.4.2"
      },
      {
        "name": "rspec",
        "version": "3.9.1"
      }
    ],
    "git": {
      "repository": "git@github.com:getappmap/appland.git",
      "branch": "apply-labels",
      "commit": "5428f5df16a93d59a15d2559c626f6918d8f0523",
      "status": [
        "M app/controllers/api/scenarios_controller.rb",
        "M app/controllers/application_controller.rb",
        "M app/controllers/applications_controller.rb",
        "M app/controllers/concerns/current_user.rb",
        "M app/controllers/home_controller.rb",
        "M app/controllers/js/examples_controller.rb",
        "M app/controllers/profile_filters_controller.rb",
        "M app/controllers/scenario_uploads_controller.rb",
        "M app/controllers/scenarios_controller.rb",
        "M app/controllers/sessions_controller.rb",
        "M app/controllers/setup_controller.rb",
        "M app/controllers/static_controller.rb",
        "M app/controllers/web_resources_controller.rb",
        "M appmap.yml"
      ],
      "git_last_annotated_tag": null,
      "git_last_tag": "v0.17.1",
      "git_commits_since_last_annotated_tag": null,
      "git_commits_since_last_tag": 0
    },
    "name": "API::ScenariosController .show logged in retrieves the scenario data",
    "feature": "API::ScenariosController .show",
    "feature_group": "API scenarios",
    "labels": ["scenario", "api"],
    "recorder": {
      "name": "rspec"
    },
    "fingerprints": [
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "classDependencies",
        "digest": "faed8b44207caf6d99794fed65a0596d1b07e944be1374bb682ae7412de9d0c3",
        "fingerprint_algorithm": "sha256"
      },
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "classes",
        "digest": "335bfb0634807b7e712016a5d0744cc72869b241eaf59e765f3bf97b28c4b0fe",
        "fingerprint_algorithm": "sha256"
      },
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "httpClientRequests",
        "digest": "4f53cda18c2baa0c0354bb5f9a3ecbe5ed12ab4d8e11ba873c2f11161202b945",
        "fingerprint_algorithm": "sha256"
      },
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "httpServerRequests",
        "digest": "80733c6bf36b5098937b34e031a21d2d0cbbad5738f5ceb0a26e390874ff76d6",
        "fingerprint_algorithm": "sha256"
      },
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "info",
        "digest": "d2358cdeb17aac53b76b8386cc8b10e74363c69663246baa142265b8e8c18cd2",
        "fingerprint_algorithm": "sha256"
      },
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "labels",
        "digest": "cbe2b872bc3cf917b59bdcde4123086b6ce504508ad7deecb52e6ebbfcc2723e",
        "fingerprint_algorithm": "sha256"
      },
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "packageDependencies",
        "digest": "620e1b5e11ccf6bd1615a182d38b90fa779d2d51b51a8a63aa40638130335ffb",
        "fingerprint_algorithm": "sha256"
      },
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "packages",
        "digest": "174dff39ae750e61f0eac4933a745eb8059c7e2a98a1c94c34f722037c80a468",
        "fingerprint_algorithm": "sha256"
      },
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "sqlNormalized",
        "digest": "43792ea201554b3454633ba6be65ab163cfc7a7be297c8903bc69623004d8be2",
        "fingerprint_algorithm": "sha256"
      },
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "sqlTables",
        "digest": "cab4ccc4c263313bdf48204dc643e68a4a78c2b8c63eb2089ab266bde060c35b",
        "fingerprint_algorithm": "sha256"
      },
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "trace",
        "digest": "3704637cca1f4076a014f9631370a1dab550e71fd499ba0e5a4465417b03c055",
        "fingerprint_algorithm": "sha256"
      },
      {
        "appmap_digest": "3a347ff9602c1e3bc5fd33ffabe1a97ec1da0edda3e1483a949fef2a09866653",
        "canonicalization_algorithm": "update",
        "digest": "ec269c786521a510a86d2f23ef288ed017791ec8456a861f9089473c323e5cbe",
        "fingerprint_algorithm": "sha256"
      }
    ]
  },
  "classMap": [
    {
      "name": "app/models",
      "type": "package",
      "children": [
        {
          "name": "ApiKey",
          "type": "class",
          "children": [
            {
              "name": "issue",
              "type": "function",
              "static": true,
              "location": "app/models/api_key.rb:28"
            },
            {
              "name": "encode",
              "type": "function",
              "static": true,
              "location": "app/models/api_key.rb:20"
            },
            {
              "name": "authenticate",
              "type": "function",
              "labels": ["provider.authentication"],
              "static": true,
              "location": "app/models/api_key.rb:52"
            },
            {
              "name": "decode",
              "type": "function",
              "static": true,
              "location": "app/models/api_key.rb:24"
            },
            {
              "name": "touch",
              "type": "function",
              "static": true,
              "location": "app/models/api_key.rb:11"
            }
          ]
        },
        {
          "name": "Scenario",
          "type": "class",
          "children": [
            {
              "name": "SearchActions",
              "type": "class",
              "children": [
                {
                  "name": "find!",
                  "type": "function",
                  "static": false,
                  "location": "app/models/scenario.rb:128"
                },
                {
                  "name": "find",
                  "type": "function",
                  "static": false,
                  "location": "app/models/scenario.rb:132"
                }
              ]
            },
            {
              "name": "find",
              "type": "function",
              "static": true,
              "location": "app/models/scenario.rb:235"
            },
            {
              "name": "Show",
              "type": "class",
              "children": [
                {
                  "name": "app",
                  "type": "function",
                  "static": false,
                  "location": "app/models/scenario.rb:402"
                },
                {
                  "name": "last_modified_date",
                  "type": "function",
                  "static": false,
                  "location": "app/models/scenario.rb:430"
                }
              ]
            }
          ]
        },
        {
          "name": "Search",
          "type": "class",
          "children": [
            {
              "name": "filter",
              "type": "function",
              "static": false,
              "location": "app/models/search.rb:33"
            }
          ]
        },
        {
          "name": "User",
          "type": "class",
          "children": [
            {
              "name": "Show",
              "type": "class",
              "children": [
                {
                  "name": "admin?",
                  "type": "function",
                  "static": false,
                  "location": "app/models/user.rb:106"
                }
              ]
            }
          ]
        },
        {
          "name": "DAO",
          "type": "class",
          "children": [
            {
              "name": "PublicResource",
              "type": "class",
              "children": [
                {
                  "name": "coerce",
                  "type": "function",
                  "static": true,
                  "location": "app/models/dao/public_resource.rb:18"
                },
                {
                  "name": "scope",
                  "type": "function",
                  "static": true,
                  "location": "app/models/dao/public_resource.rb:26"
                }
              ]
            },
            {
              "name": "SequelUtil",
              "type": "class",
              "children": [
                {
                  "name": "build_where_clause",
                  "type": "function",
                  "static": true,
                  "location": "app/models/dao/sequel_util.rb:6"
                }
              ]
            },
            {
              "name": "ToModel",
              "type": "class",
              "children": [
                {
                  "name": "to_model",
                  "type": "function",
                  "static": false,
                  "location": "app/models/dao/to_model.rb:5"
                }
              ]
            },
            {
              "name": "Scenario",
              "type": "class",
              "children": [
                {
                  "name": "processed?",
                  "type": "function",
                  "static": false,
                  "location": "app/models/dao/scenario.rb:208"
                },
                {
                  "name": "to_hash",
                  "type": "function",
                  "static": false,
                  "location": "app/models/dao/scenario.rb:164"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "app/controllers",
      "type": "package",
      "children": [
        {
          "name": "API",
          "type": "class",
          "children": [
            {
              "name": "ScenariosController",
              "type": "class",
              "children": [
                {
                  "name": "show",
                  "type": "function",
                  "static": false,
                  "location": "app/controllers/api/scenarios_controller.rb:17"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "json",
      "type": "package",
      "children": [
        {
          "name": "JSON",
          "type": "class",
          "children": [
            {
              "name": "Ext",
              "type": "class",
              "children": [
                {
                  "name": "Parser",
                  "type": "class",
                  "children": [
                    {
                      "name": "parse",
                      "type": "function",
                      "labels": ["serialization", "json"],
                      "static": false,
                      "location": "JSON::Ext::Parser#parse"
                    }
                  ]
                },
                {
                  "name": "Generator",
                  "type": "class",
                  "children": [
                    {
                      "name": "State",
                      "type": "class",
                      "children": [
                        {
                          "name": "generate",
                          "type": "function",
                          "labels": ["serialization", "json"],
                          "static": false,
                          "location": "JSON::Ext::Generator::State#generate"
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "database",
      "name": "Database",
      "children": [
        {
          "type": "query",
          "name": "INSERT INTO \"api_keys\" (\"login\") VALUES ('alice') RETURNING *"
        },
        {
          "type": "query",
          "name": "SELECT * FROM \"api_keys\" WHERE (\"login\" = 'alice')"
        },
        {
          "type": "query",
          "name": "UPDATE \"api_keys\" SET \"last_used\" = '2021-02-01 15:53:43.194564+0000' WHERE (\"id\" = 2)"
        },
        {
          "type": "query",
          "name": "SELECT * FROM \"users\" WHERE (\"users\".\"login\" = 'alice') LIMIT 1"
        },
        {
          "type": "query",
          "name": "SELECT * FROM \"users\" WHERE \"id\" = 1000001"
        },
        {
          "type": "query",
          "name": "SELECT \"id\" FROM \"scenarios\" WHERE (((\"scenarios\".\"org_id\" IN (SELECT \"orgs\".\"id\" FROM \"orgs\" INNER JOIN \"users_orgs\" ON (\"users_orgs\".\"org_id\" = \"orgs\".\"id\") WHERE ((\"users_orgs\".\"user_id\" = 1000001) AND (\"orgs\".\"id\" IS NOT NULL)))) OR (\"scenarios\".\"mapset_id\" IN (SELECT \"mapsets\".\"id\" FROM \"mapsets\" WHERE ((\"mapsets\".\"app_id\" IN (SELECT \"apps\".\"id\" FROM \"apps\" WHERE (((\"apps\".\"org_id\" IN (SELECT \"orgs\".\"id\" FROM \"orgs\" INNER JOIN \"users_orgs\" ON (\"users_orgs\".\"org_id\" = \"orgs\".\"id\") WHERE ((\"users_orgs\".\"user_id\" = 1000001) AND (\"orgs\".\"id\" IS NOT NULL)))) OR (\"public\" IS TRUE)) AND (\"apps\".\"id\" IS NOT NULL)))) AND (\"mapsets\".\"id\" IS NOT NULL)))) OR (\"link_sharing\" IS TRUE)) AND (\"uuid\" = '724151a3-cc7b-4ef3-ac6b-5380fe59217c')) LIMIT 1"
        },
        {
          "type": "query",
          "name": "SELECT * FROM \"scenarios\" WHERE \"id\" = 100002"
        },
        {
          "type": "query",
          "name": "SELECT * FROM \"mapsets\" WHERE \"id\" = 100001"
        },
        {
          "type": "query",
          "name": "SELECT * FROM \"apps\" WHERE \"id\" = 100001"
        },
        {
          "type": "query",
          "name": "SELECT \"updated_at\" FROM \"scenarios\" WHERE (\"id\" = 100002) LIMIT 1"
        }
      ]
    },
    {
      "type": "http",
      "name": "HTTP server requests",
      "children": [
        {
          "type": "route",
          "name": "GET /api/scenarios/:id(.:format)"
        }
      ]
    }
  ]
}
