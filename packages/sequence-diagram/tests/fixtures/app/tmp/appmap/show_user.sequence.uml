@startuml
!includeurl https://raw.githubusercontent.com/getappmap/plantuml-theme/main/appmap-theme.puml
participant controllers as "controllers"
participant models as "models"
participant users as "users"
participant posts as "posts"
participant database as "database"
  [->controllers: show <size:8><:1F551:></size><color:gray> 341μs</color>
  activate controllers
    controllers->models: <u>find</u> <size:8><:1F551:></size><color:gray> 53μs</color>
    activate models
      models->database: <u>query</u> <size:8><:1F551:></size><color:gray> 1μs</color>
    controllers<--models: object
    deactivate models
    controllers->users: show <size:8><:1F551:></size><color:gray> 159μs</color>
    activate users
      users->models: posts <size:8><:1F551:></size><color:gray> 65μs</color>
      activate models
        models->models: <u>find_for_user</u> <size:8><:1F551:></size><color:gray> 19μs</color>
        activate models
          models->database: <u>query</u>
        models<--models: array
        deactivate models
      users<--models: array
      deactivate models
      Loop 2 times <size:8><:1F551:></size><color:gray> 1000ns</color>
        users->posts: show <size:8><:1F551:></size><color:gray> 1000ns</color>
        activate posts
        users<--posts: string
        deactivate posts
      End
    controllers<--users: object
    deactivate users
  [<--controllers: array
  deactivate controllers
@enduml