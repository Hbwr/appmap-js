{"version":"1.5.1","metadata":{"app":"semian","language":{"name":"ruby","engine":"ruby","version":"2.7.1"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.66.2"},"git":{"repository":"git@github.com:Shopify/semian.git","branch":"master","commit":"bb94023fbc2d687ef9ab367857094537b671e011","status":["M .gitignore","M Gemfile","M semian.gemspec","M test/test_helper.rb","?? appmap.yml","?? package-lock.json"],"git_last_annotated_tag":"v0.11.4","git_last_tag":"v0.11.4","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Test_net 5xxs trip circuit when fatal server flag enabled","source_location":"test/net_http_test.rb:338","frameworks":[{"name":"minitest","version":"5.14.4"}],"recorder":{"name":"minitest"},"test_status":"succeeded"},"classMap":[{"name":"lib","type":"package","children":[{"name":"Semian","type":"class","children":[{"name":"NetHTTP","type":"class","children":[{"name":"semian_configuration=","type":"function","location":"lib/semian/net_http.rb:50","static":true},{"name":"connect","type":"function","location":"lib/semian/net_http.rb:81","static":false},{"name":"disabled?","type":"function","location":"lib/semian/net_http.rb:77","static":false},{"name":"raw_semian_options","type":"function","location":"lib/semian/net_http.rb:66","static":false},{"name":"retrieve_semian_configuration","type":"function","location":"lib/semian/net_http.rb:55","static":true},{"name":"resource_exceptions","type":"function","location":"lib/semian/net_http.rb:73","static":false},{"name":"semian_identifier","type":"function","location":"lib/semian/net_http.rb:31","static":false},{"name":"transport_request","type":"function","location":"lib/semian/net_http.rb:86","static":false}]},{"name":"[]","type":"function","location":"lib/semian.rb:183","static":true,"comment":"# Retrieves a resource by name.\n"},{"name":"resources","type":"function","location":"lib/semian.rb:225","static":true,"comment":"# Retrieves a hash of all registered resources.\n"},{"name":"CircuitBreaker","type":"class","children":[{"name":"reset","type":"function","location":"lib/semian/circuit_breaker.rb:69","static":false},{"name":"destroy","type":"function","location":"lib/semian/circuit_breaker.rb:75","static":false},{"name":"transition_to_half_open?","type":"function","location":"lib/semian/circuit_breaker.rb:45","static":false},{"name":"request_allowed?","type":"function","location":"lib/semian/circuit_breaker.rb:49","static":false},{"name":"mark_success","type":"function","location":"lib/semian/circuit_breaker.rb:63","static":false},{"name":"mark_failed","type":"function","location":"lib/semian/circuit_breaker.rb:53","static":false}]},{"name":"Simple","type":"class","children":[{"name":"SlidingWindow","type":"class","children":[{"name":"clear","type":"function","location":"lib/semian/simple_sliding_window.rb:31","static":false},{"name":"reject!","type":"function","location":"lib/semian/simple_sliding_window.rb:20","static":false},{"name":"<<","type":"function","location":"lib/semian/simple_sliding_window.rb:24","static":false}]},{"name":"Integer","type":"class","children":[{"name":"reset","type":"function","location":"lib/semian/simple_integer.rb:16","static":false},{"name":"destroy","type":"function","location":"lib/semian/simple_integer.rb:20","static":false}]},{"name":"State","type":"class","children":[{"name":"close!","type":"function","location":"lib/semian/simple_state.rb:26","static":false},{"name":"destroy","type":"function","location":"lib/semian/simple_state.rb:38","static":false},{"name":"reset","type":"function","location":"lib/semian/simple_state.rb:34","static":false},{"name":"open?","type":"function","location":"lib/semian/simple_state.rb:10","static":false},{"name":"closed?","type":"function","location":"lib/semian/simple_state.rb:14","static":false},{"name":"half_open?","type":"function","location":"lib/semian/simple_state.rb:18","static":false},{"name":"open!","type":"function","location":"lib/semian/simple_state.rb:22","static":false}]}]},{"name":"Instrumentable","type":"class","children":[{"name":"notify","type":"function","location":"lib/semian/instrumentable.rb:18","static":true,"comment":"# Args:\n#   event (string)\n#   resource (Object)\n#   scope (string)\n#   adapter (string)\n#   payload (optional)\n"}]},{"name":"destroy","type":"function","location":"lib/semian.rb:187","static":true},{"name":"ProtectedResource","type":"class","children":[{"name":"destroy","type":"function","location":"lib/semian/protected_resource.rb:19","static":false},{"name":"acquire","type":"function","location":"lib/semian/protected_resource.rb:24","static":false}]},{"name":"Adapter","type":"class","children":[{"name":"semian_resource","type":"function","location":"lib/semian/adapter.rb:9","static":false}]},{"name":"retrieve_or_register","type":"function","location":"lib/semian.rb:170","static":true},{"name":"consumers","type":"function","location":"lib/semian.rb:230","static":true,"comment":"# Retrieves a hash of all registered resource consumers.\n"},{"name":"register","type":"function","location":"lib/semian.rb:159","static":true,"comment":"# Registers a resource.\n#\n# +name+: Name of the resource - this can be either a string or symbol. (required)\n#\n# +circuit_breaker+: The boolean if you want a circuit breaker acquired for your resource. Default true.\n#\n# +bulkhead+: The boolean if you want a bulkhead to be acquired for your resource. Default true.\n#\n# +tickets+: Number of tickets. If this value is 0, the ticket count will not be set,\n# but the resource must have been previously registered otherwise an error will be raised.\n# Mutually exclusive with the 'quota' argument.\n#\n# +quota+: Calculate tickets as a ratio of the number of registered workers.\n# Must be greater than 0, less than or equal to 1. There will always be at least 1 ticket, as it\n# is calculated as (workers * quota).ceil\n# Mutually exclusive with the 'ticket' argument.\n# but the resource must have been previously registered otherwise an error will be raised. (bulkhead)\n#\n# +permissions+: Octal permissions of the resource. Default to +Semian.default_permissions+ (0660). (bulkhead)\n#\n# +timeout+: Default timeout in seconds. Default 0. (bulkhead)\n#\n# +error_threshold+: The amount of errors that must happen within error_timeout amount of time to open\n# the circuit. (circuit breaker required)\n#\n# +error_timeout+: The duration in seconds since the last error after which the error count is reset to 0.\n# (circuit breaker required)\n#\n# +success_threshold+: The number of consecutive success after which an half-open circuit will be fully closed.\n# (circuit breaker required)\n#\n# +exceptions+: An array of exception classes that should be accounted as resource errors. Default [].\n# (circuit breaker)\n#\n# Returns the registered resource.\n"},{"name":"thread_safe?","type":"function","location":"lib/semian.rb:239","static":true},{"name":"semaphores_enabled?","type":"function","location":"lib/semian/platform.rb:9","static":true},{"name":"disabled?","type":"function","location":"lib/semian/platform.rb:13","static":true},{"name":"sysv_semaphores_supported?","type":"function","location":"lib/semian/platform.rb:5","static":true,"comment":"# Determines if Semian supported on the current platform.\n"},{"name":"ThreadSafe","type":"class","children":[{"name":"SlidingWindow","type":"class","children":[{"name":"reject!","type":"function","location":"lib/semian/simple_sliding_window.rb:59","static":false,"comment":"# #size, #last, and #clear are not wrapped in a mutex. For the first two,\n# the worst-case is a thread-switch at a timing where they'd receive an\n# out-of-date value--which could happen with a mutex as well.\n#\n# As for clear, it's an all or nothing operation. Doesn't matter if we\n# have the lock or not.\n"}]}]}]},{"name":"LRUHash","type":"class","children":[{"name":"[]","type":"function","location":"lib/semian/lru_hash.rb:115","static":false},{"name":"get","type":"function","location":"lib/semian/lru_hash.rb:94","static":false,"comment":"# This method uses the property that \"Hashes enumerate their values in the\n# order that the corresponding keys were inserted.\" Deleting a key and\n# re-inserting it effectively moves it to the front of the cache.\n# Update the `updated_at` field so we can use it later do decide if the\n# resource is \"in use\".\n"},{"name":"delete","type":"function","location":"lib/semian/lru_hash.rb:105","static":false},{"name":"[]=","type":"function","location":"lib/semian/lru_hash.rb:111","static":false},{"name":"set","type":"function","location":"lib/semian/lru_hash.rb:80","static":false}]}]},{"name":"toxiproxy","type":"package","children":[{"name":"Toxiproxy","type":"class","children":[{"name":"[]","type":"function","location":"vendor/bundle/ruby/2.7.0/gems/toxiproxy-1.0.3/lib/toxiproxy.rb:93","static":true,"comment":"# If given a regex, it'll use `grep` to return a Toxiproxy::Collection.\n# Otherwise, it'll convert the passed object to a string and find the proxy by\n# name.\n"},{"name":"assert_response","type":"function","location":"vendor/bundle/ruby/2.7.0/gems/toxiproxy-1.0.3/lib/toxiproxy.rb:248","static":true}]}]},{"name":"ruby","type":"package","children":[{"name":"Semian","type":"class","children":[{"name":"CircuitBreaker","type":"class","children":[{"name":"acquire","type":"function","location":"lib/semian/circuit_breaker.rb:25","static":false,"labels":["rpc.circuit_breaker"]}]}]}]},{"name":"net/http","type":"package","children":[{"name":"Net","type":"class","children":[{"name":"HTTP","type":"class","children":[{"name":"request","type":"function","location":"/usr/local/lib/ruby/2.7.0/net/http.rb:1481","labels":["protocol.http"],"comment":"# Sends an HTTPRequest object +req+ to the HTTP server.\n#\n# If +req+ is a Net::HTTP::Post or Net::HTTP::Put request containing\n# data, the data is also sent. Providing data for a Net::HTTP::Head or\n# Net::HTTP::Get request results in an ArgumentError.\n#\n# Returns an HTTPResponse object.\n#\n# When called with a block, passes an HTTPResponse object to the block.\n# The body of the response will not have been read yet;\n# the block can process it using HTTPResponse#read_body,\n# if desired.\n#\n# This method never raises Net::* exceptions.\n#\n"}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse"]}]}]}]}]},{"name":"webrick","type":"package","children":[{"name":"WEBrick","type":"class","children":[{"name":"HTTPVersion","type":"class","children":[{"name":"convert","type":"function","location":"vendor/bundle/ruby/2.7.0/gems/webrick-1.7.0/lib/webrick/httpversion.rb:32","static":true,"comment":"##\n# Converts +version+ into an HTTPVersion\n"}]}]}]}],"events":[{"id":5103,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"semian_configuration=","path":"lib/semian/net_http.rb","lineno":50,"static":true,"parameters":[{"name":"configuration","class":"Proc","object_id":25300,"value":"#<Proc:0x00005600eb3715a8 test/net_http_test.rb:339>","kind":"req"}],"receiver":{"class":"Module","object_id":3280,"value":"Semian::NetHTTP"}},{"id":5104,"event":"return","thread_id":3300,"parent_id":5103,"elapsed":1.285e-05,"return_value":{"class":"Proc","value":"#<Proc:0x00005600eb3715a8 test/net_http_test.rb:339>","object_id":25300}},{"id":5105,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"[]","path":"lib/semian.rb","lineno":183,"static":true,"parameters":[{"name":"name","class":"String","object_id":25320,"value":"nethttp_toxiproxy_31050","kind":"req"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5106,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"resources","path":"lib/semian.rb","lineno":225,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5107,"event":"return","thread_id":3300,"parent_id":5106,"elapsed":5.405e-06,"return_value":{"class":"LRUHash","value":"#<LRUHash:0x00005600eb5bb390>","object_id":3420}},{"id":5108,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"[]","path":"lib/semian/lru_hash.rb","lineno":115,"static":false,"parameters":[{"name":"key","class":"String","object_id":25320,"value":"nethttp_toxiproxy_31050","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5109,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"get","path":"lib/semian/lru_hash.rb","lineno":94,"static":false,"parameters":[{"name":"key","class":"String","object_id":25320,"value":"nethttp_toxiproxy_31050","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5110,"event":"return","thread_id":3300,"parent_id":5109,"elapsed":5.2436e-05},{"id":5111,"event":"return","thread_id":3300,"parent_id":5108,"elapsed":0.000186548},{"id":5112,"event":"return","thread_id":3300,"parent_id":5105,"elapsed":0.000481359},{"id":5113,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"[]","path":"lib/semian.rb","lineno":183,"static":true,"parameters":[{"name":"name","class":"String","object_id":25340,"value":"nethttp_toxiproxy_31051","kind":"req"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5114,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"resources","path":"lib/semian.rb","lineno":225,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5115,"event":"return","thread_id":3300,"parent_id":5114,"elapsed":3.959e-06,"return_value":{"class":"LRUHash","value":"#<LRUHash:0x00005600eb5bb390>","object_id":3420}},{"id":5116,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"[]","path":"lib/semian/lru_hash.rb","lineno":115,"static":false,"parameters":[{"name":"key","class":"String","object_id":25340,"value":"nethttp_toxiproxy_31051","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5117,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"get","path":"lib/semian/lru_hash.rb","lineno":94,"static":false,"parameters":[{"name":"key","class":"String","object_id":25340,"value":"nethttp_toxiproxy_31051","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5118,"event":"return","thread_id":3300,"parent_id":5117,"elapsed":1.7805e-05,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb511638>","object_id":22380}},{"id":5119,"event":"return","thread_id":3300,"parent_id":5116,"elapsed":0.000219988,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb511638>","object_id":22380}},{"id":5120,"event":"return","thread_id":3300,"parent_id":5113,"elapsed":0.000581821,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb511638>","object_id":22380}},{"id":5121,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"[]","path":"lib/semian.rb","lineno":183,"static":true,"parameters":[{"name":"name","class":"String","object_id":25360,"value":"nethttp_toxiproxy_31051","kind":"req"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5122,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"resources","path":"lib/semian.rb","lineno":225,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5123,"event":"return","thread_id":3300,"parent_id":5122,"elapsed":4.05e-06,"return_value":{"class":"LRUHash","value":"#<LRUHash:0x00005600eb5bb390>","object_id":3420}},{"id":5124,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"[]","path":"lib/semian/lru_hash.rb","lineno":115,"static":false,"parameters":[{"name":"key","class":"String","object_id":25360,"value":"nethttp_toxiproxy_31051","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5125,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"get","path":"lib/semian/lru_hash.rb","lineno":94,"static":false,"parameters":[{"name":"key","class":"String","object_id":25360,"value":"nethttp_toxiproxy_31051","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5126,"event":"return","thread_id":3300,"parent_id":5125,"elapsed":1.6043e-05,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb511638>","object_id":22380}},{"id":5127,"event":"return","thread_id":3300,"parent_id":5124,"elapsed":0.00020799,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb511638>","object_id":22380}},{"id":5128,"event":"return","thread_id":3300,"parent_id":5121,"elapsed":0.000572613,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb511638>","object_id":22380}},{"id":5129,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"reset","path":"lib/semian/circuit_breaker.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":22280,"value":"#<Semian::CircuitBreaker:0x00005600eb521e20>"}},{"id":5130,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::SlidingWindow","method_id":"clear","path":"lib/semian/simple_sliding_window.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":22300,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eb521da8>"}},{"id":5131,"event":"return","thread_id":3300,"parent_id":5130,"elapsed":5.458e-06,"return_value":{"class":"Semian::ThreadSafe::SlidingWindow","value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eb521da8>","object_id":22300}},{"id":5132,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::Integer","method_id":"reset","path":"lib/semian/simple_integer.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::Integer","object_id":22240,"value":"#<Semian::ThreadSafe::Integer:0x00005600eb521ce0>"}},{"id":5133,"event":"return","thread_id":3300,"parent_id":5132,"elapsed":4.963e-06,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5134,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":25380,"value":"[:state_change, #<Semian::CircuitBreaker:0x00005600eb521e20 @name=:nethttp_toxiproxy_31051, @success","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5135,"event":"return","thread_id":3300,"parent_id":5134,"elapsed":8.678e-06,"return_value":{"class":"Array","value":"[]","object_id":25400}},{"id":5136,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"close!","path":"lib/semian/simple_state.rb","lineno":26,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":22260,"value":"#<Semian::ThreadSafe::State:0x00005600eb5212e0>"}},{"id":5137,"event":"return","thread_id":3300,"parent_id":5136,"elapsed":6.378e-06,"return_value":{"class":"Symbol","value":"closed","object_id":4194588}},{"id":5138,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::SlidingWindow","method_id":"clear","path":"lib/semian/simple_sliding_window.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":22300,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eb521da8>"}},{"id":5139,"event":"return","thread_id":3300,"parent_id":5138,"elapsed":2.4508e-05,"return_value":{"class":"Semian::ThreadSafe::SlidingWindow","value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eb521da8>","object_id":22300}},{"id":5140,"event":"return","thread_id":3300,"parent_id":5129,"elapsed":0.001106053,"return_value":{"class":"Semian::ThreadSafe::SlidingWindow","value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eb521da8>","object_id":22300}},{"id":5141,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"destroy","path":"lib/semian.rb","lineno":187,"static":true,"parameters":[{"name":"name","class":"String","object_id":25420,"value":"nethttp_toxiproxy_31050","kind":"req"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5142,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"resources","path":"lib/semian.rb","lineno":225,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5143,"event":"return","thread_id":3300,"parent_id":5142,"elapsed":6.809e-06,"return_value":{"class":"LRUHash","value":"#<LRUHash:0x00005600eb5bb390>","object_id":3420}},{"id":5144,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"delete","path":"lib/semian/lru_hash.rb","lineno":105,"static":false,"parameters":[{"name":"key","class":"String","object_id":25420,"value":"nethttp_toxiproxy_31050","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5145,"event":"return","thread_id":3300,"parent_id":5144,"elapsed":6.344e-06},{"id":5146,"event":"return","thread_id":3300,"parent_id":5141,"elapsed":0.000280631},{"id":5147,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"destroy","path":"lib/semian.rb","lineno":187,"static":true,"parameters":[{"name":"name","class":"String","object_id":25440,"value":"nethttp_toxiproxy_31051","kind":"req"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5148,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"resources","path":"lib/semian.rb","lineno":225,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5149,"event":"return","thread_id":3300,"parent_id":5148,"elapsed":4.583e-06,"return_value":{"class":"LRUHash","value":"#<LRUHash:0x00005600eb5bb390>","object_id":3420}},{"id":5150,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"delete","path":"lib/semian/lru_hash.rb","lineno":105,"static":false,"parameters":[{"name":"key","class":"String","object_id":25440,"value":"nethttp_toxiproxy_31051","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5151,"event":"return","thread_id":3300,"parent_id":5150,"elapsed":5.4397e-05,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb511638>","object_id":22380}},{"id":5152,"event":"call","thread_id":3300,"defined_class":"Semian::ProtectedResource","method_id":"destroy","path":"lib/semian/protected_resource.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Semian::ProtectedResource","object_id":22380,"value":"#<Semian::ProtectedResource:0x00005600eb511638>"}},{"id":5153,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"destroy","path":"lib/semian/circuit_breaker.rb","lineno":75,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":22280,"value":"#<Semian::CircuitBreaker:0x00005600eb521e20>"}},{"id":5154,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::SlidingWindow","method_id":"clear","path":"lib/semian/simple_sliding_window.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":22300,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eb521da8>"}},{"id":5155,"event":"return","thread_id":3300,"parent_id":5154,"elapsed":9.8289e-05,"return_value":{"class":"Semian::ThreadSafe::SlidingWindow","value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eb521da8>","object_id":22300}},{"id":5156,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::Integer","method_id":"destroy","path":"lib/semian/simple_integer.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::Integer","object_id":22240,"value":"#<Semian::ThreadSafe::Integer:0x00005600eb521ce0>"}},{"id":5157,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::Integer","method_id":"reset","path":"lib/semian/simple_integer.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::Integer","object_id":22240,"value":"#<Semian::ThreadSafe::Integer:0x00005600eb521ce0>"}},{"id":5158,"event":"return","thread_id":3300,"parent_id":5157,"elapsed":5.356e-06,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5159,"event":"return","thread_id":3300,"parent_id":5156,"elapsed":0.000153643,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5160,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"destroy","path":"lib/semian/simple_state.rb","lineno":38,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":22260,"value":"#<Semian::ThreadSafe::State:0x00005600eb5212e0>"}},{"id":5161,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"reset","path":"lib/semian/simple_state.rb","lineno":34,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":22260,"value":"#<Semian::ThreadSafe::State:0x00005600eb5212e0>"}},{"id":5162,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"close!","path":"lib/semian/simple_state.rb","lineno":26,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":22260,"value":"#<Semian::ThreadSafe::State:0x00005600eb5212e0>"}},{"id":5163,"event":"return","thread_id":3300,"parent_id":5162,"elapsed":5.013e-06,"return_value":{"class":"Symbol","value":"closed","object_id":4194588}},{"id":5164,"event":"return","thread_id":3300,"parent_id":5161,"elapsed":0.000141476,"return_value":{"class":"Symbol","value":"closed","object_id":4194588}},{"id":5165,"event":"return","thread_id":3300,"parent_id":5160,"elapsed":0.000211805,"return_value":{"class":"Symbol","value":"closed","object_id":4194588}},{"id":5166,"event":"return","thread_id":3300,"parent_id":5153,"elapsed":0.001231468,"return_value":{"class":"Symbol","value":"closed","object_id":4194588}},{"id":5167,"event":"return","thread_id":3300,"parent_id":5152,"elapsed":0.001320678,"return_value":{"class":"Symbol","value":"closed","object_id":4194588}},{"id":5168,"event":"return","thread_id":3300,"parent_id":5147,"elapsed":0.00182528,"return_value":{"class":"Symbol","value":"closed","object_id":4194588}},{"id":5169,"event":"call","thread_id":3300,"defined_class":"Toxiproxy","method_id":"[]","path":"vendor/bundle/ruby/2.7.0/gems/toxiproxy-1.0.3/lib/toxiproxy.rb","lineno":93,"static":true,"parameters":[{"name":"query","class":"Symbol","object_id":1944028,"value":"semian_test_net_http","kind":"req"}],"receiver":{"class":"Class","object_id":3500,"value":"Toxiproxy"}},{"id":5170,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"connect","path":"lib/semian/net_http.rb","lineno":81,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5171,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"disabled?","path":"lib/semian/net_http.rb","lineno":77,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5172,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5173,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"retrieve_semian_configuration","path":"lib/semian/net_http.rb","lineno":55,"static":true,"parameters":[{"name":"host","class":"String","object_id":3540,"value":"toxiproxy","kind":"req"},{"name":"port","class":"Integer","object_id":16949,"value":"8474","kind":"req"}],"receiver":{"class":"Module","object_id":3280,"value":"Semian::NetHTTP"}},{"id":5174,"event":"return","thread_id":3300,"parent_id":5173,"elapsed":8.689e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25460}},{"id":5175,"event":"return","thread_id":3300,"parent_id":5172,"elapsed":0.000190246,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25480}},{"id":5176,"event":"return","thread_id":3300,"parent_id":5171,"elapsed":0.000317173},{"id":5177,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5178,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"resource_exceptions","path":"lib/semian/net_http.rb","lineno":73,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5179,"event":"return","thread_id":3300,"parent_id":5178,"elapsed":4.027e-06,"return_value":{"class":"Array","value":"[Timeout::Error, SocketError, Net::HTTPBadResponse, Net::HTTPHeaderSyntaxError, Net::ProtocolError, ","object_id":22160}},{"id":5180,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"semian_identifier","path":"lib/semian/net_http.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5181,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5182,"event":"return","thread_id":3300,"parent_id":5181,"elapsed":3.925e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25480}},{"id":5183,"event":"return","thread_id":3300,"parent_id":5180,"elapsed":8.5618e-05,"return_value":{"class":"String","value":"nethttp_toxiproxy_8474","object_id":25500}},{"id":5184,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"retrieve_or_register","path":"lib/semian.rb","lineno":170,"static":true,"parameters":[{"name":"name","class":"String","object_id":25500,"value":"nethttp_toxiproxy_8474","kind":"req"},{"name":"args","class":"Hash","object_id":25520,"value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :consumer=>#<Net::HTTP","kind":"keyrest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5185,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"consumers","path":"lib/semian.rb","lineno":230,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5186,"event":"return","thread_id":3300,"parent_id":5185,"elapsed":3.93e-06,"return_value":{"class":"Hash","value":"","object_id":3800}},{"id":5187,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"consumers","path":"lib/semian.rb","lineno":230,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5188,"event":"return","thread_id":3300,"parent_id":5187,"elapsed":4.908e-06,"return_value":{"class":"Hash","value":"","object_id":3800}},{"id":5189,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"[]","path":"lib/semian.rb","lineno":183,"static":true,"parameters":[{"name":"name","class":"String","object_id":25500,"value":"nethttp_toxiproxy_8474","kind":"req"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5190,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"resources","path":"lib/semian.rb","lineno":225,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5191,"event":"return","thread_id":3300,"parent_id":5190,"elapsed":4.003e-06,"return_value":{"class":"LRUHash","value":"#<LRUHash:0x00005600eb5bb390>","object_id":3420}},{"id":5192,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"[]","path":"lib/semian/lru_hash.rb","lineno":115,"static":false,"parameters":[{"name":"key","class":"String","object_id":25500,"value":"nethttp_toxiproxy_8474","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5193,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"get","path":"lib/semian/lru_hash.rb","lineno":94,"static":false,"parameters":[{"name":"key","class":"String","object_id":25500,"value":"nethttp_toxiproxy_8474","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5194,"event":"return","thread_id":3300,"parent_id":5193,"elapsed":1.7594e-05,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb533490>","object_id":6880}},{"id":5195,"event":"return","thread_id":3300,"parent_id":5192,"elapsed":0.000259602,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb533490>","object_id":6880}},{"id":5196,"event":"return","thread_id":3300,"parent_id":5189,"elapsed":0.00045027,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb533490>","object_id":6880}},{"id":5197,"event":"return","thread_id":3300,"parent_id":5184,"elapsed":0.001051621,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb533490>","object_id":6880}},{"id":5198,"event":"return","thread_id":3300,"parent_id":5177,"elapsed":0.001504981,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb533490>","object_id":6880}},{"id":5199,"event":"call","thread_id":3300,"defined_class":"Semian::ProtectedResource","method_id":"acquire","path":"lib/semian/protected_resource.rb","lineno":24,"static":false,"parameters":[{"name":"timeout","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"scope","class":"Symbol","object_id":2322588,"value":"connection","kind":"key"},{"name":"adapter","class":"Symbol","object_id":1914268,"value":"http","kind":"key"},{"name":"resource","class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]","kind":"key"}],"receiver":{"class":"Semian::ProtectedResource","object_id":6880,"value":"#<Semian::ProtectedResource:0x00005600eb533490>"}},{"id":5200,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"acquire","path":"lib/semian/circuit_breaker.rb","lineno":25,"static":false,"parameters":[{"name":"resource","class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]","kind":"opt"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":6780,"value":"#<Semian::CircuitBreaker:0x00005600eb552f20>"}},{"id":5201,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"transition_to_half_open?","path":"lib/semian/circuit_breaker.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":6780,"value":"#<Semian::CircuitBreaker:0x00005600eb552f20>"}},{"id":5202,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"open?","path":"lib/semian/simple_state.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":6760,"value":"#<Semian::ThreadSafe::State:0x00005600eb552408>"}},{"id":5203,"event":"return","thread_id":3300,"parent_id":5202,"elapsed":4.554e-06},{"id":5204,"event":"return","thread_id":3300,"parent_id":5201,"elapsed":6.1013e-05},{"id":5205,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"request_allowed?","path":"lib/semian/circuit_breaker.rb","lineno":49,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":6780,"value":"#<Semian::CircuitBreaker:0x00005600eb552f20>"}},{"id":5206,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":6760,"value":"#<Semian::ThreadSafe::State:0x00005600eb552408>"}},{"id":5207,"event":"return","thread_id":3300,"parent_id":5206,"elapsed":4.312e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5208,"event":"return","thread_id":3300,"parent_id":5205,"elapsed":8.2543e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5209,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":6760,"value":"#<Semian::ThreadSafe::State:0x00005600eb552408>"}},{"id":5210,"event":"return","thread_id":3300,"parent_id":5209,"elapsed":5.524e-06},{"id":5211,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":25540,"value":"[:success, #<Semian::ProtectedResource:0x00005600eb533490 @name=\"nethttp_toxiproxy_8474\", @bulkhead=","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5212,"event":"return","thread_id":3300,"parent_id":5211,"elapsed":8.546e-06,"return_value":{"class":"Array","value":"[]","object_id":25560}},{"id":5213,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"mark_success","path":"lib/semian/circuit_breaker.rb","lineno":63,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":6780,"value":"#<Semian::CircuitBreaker:0x00005600eb552f20>"}},{"id":5214,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":6760,"value":"#<Semian::ThreadSafe::State:0x00005600eb552408>"}},{"id":5215,"event":"return","thread_id":3300,"parent_id":5214,"elapsed":1.4773e-05},{"id":5216,"event":"return","thread_id":3300,"parent_id":5213,"elapsed":0.00033356},{"id":5217,"event":"return","thread_id":3300,"parent_id":5200,"elapsed":0.002825077},{"id":5218,"event":"return","thread_id":3300,"parent_id":5199,"elapsed":0.002925859},{"id":5219,"event":"return","thread_id":3300,"parent_id":5170,"elapsed":0.005028449},{"id":5220,"event":"call","thread_id":3300,"http_client_request":{"request_method":"GET","url":"http://toxiproxy:8474/proxies","headers":{"Accept-Encoding":"gzip;q=1.0,deflate;q=0.6,identity;q=0.3","Accept":"*/*","User-Agent":"Ruby","Connection":"close"}}},{"id":5221,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"transport_request","path":"lib/semian/net_http.rb","lineno":86,"static":false,"parameters":[{"name":"arg","class":"Array","object_id":25580,"value":"[#<Net::HTTP::Get GET>]","kind":"rest"}],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5222,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"disabled?","path":"lib/semian/net_http.rb","lineno":77,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5223,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5224,"event":"return","thread_id":3300,"parent_id":5223,"elapsed":5.006e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25480}},{"id":5225,"event":"return","thread_id":3300,"parent_id":5222,"elapsed":0.000124287},{"id":5226,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5227,"event":"return","thread_id":3300,"parent_id":5226,"elapsed":4.409e-06,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600eb533490>","object_id":6880}},{"id":5228,"event":"call","thread_id":3300,"defined_class":"Semian::ProtectedResource","method_id":"acquire","path":"lib/semian/protected_resource.rb","lineno":24,"static":false,"parameters":[{"name":"timeout","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"scope","class":"Symbol","object_id":1701788,"value":"query","kind":"key"},{"name":"adapter","class":"Symbol","object_id":1914268,"value":"http","kind":"key"},{"name":"resource","class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]","kind":"key"}],"receiver":{"class":"Semian::ProtectedResource","object_id":6880,"value":"#<Semian::ProtectedResource:0x00005600eb533490>"}},{"id":5229,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"acquire","path":"lib/semian/circuit_breaker.rb","lineno":25,"static":false,"parameters":[{"name":"resource","class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]","kind":"opt"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":6780,"value":"#<Semian::CircuitBreaker:0x00005600eb552f20>"}},{"id":5230,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"transition_to_half_open?","path":"lib/semian/circuit_breaker.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":6780,"value":"#<Semian::CircuitBreaker:0x00005600eb552f20>"}},{"id":5231,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"open?","path":"lib/semian/simple_state.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":6760,"value":"#<Semian::ThreadSafe::State:0x00005600eb552408>"}},{"id":5232,"event":"return","thread_id":3300,"parent_id":5231,"elapsed":5.551e-06},{"id":5233,"event":"return","thread_id":3300,"parent_id":5230,"elapsed":0.000133905},{"id":5234,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"request_allowed?","path":"lib/semian/circuit_breaker.rb","lineno":49,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":6780,"value":"#<Semian::CircuitBreaker:0x00005600eb552f20>"}},{"id":5235,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":6760,"value":"#<Semian::ThreadSafe::State:0x00005600eb552408>"}},{"id":5236,"event":"return","thread_id":3300,"parent_id":5235,"elapsed":4.033e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5237,"event":"return","thread_id":3300,"parent_id":5234,"elapsed":8.7696e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5238,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":6760,"value":"#<Semian::ThreadSafe::State:0x00005600eb552408>"}},{"id":5239,"event":"return","thread_id":3300,"parent_id":5238,"elapsed":1.5962e-05},{"id":5240,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":25600,"value":"[:success, #<Semian::ProtectedResource:0x00005600eb533490 @name=\"nethttp_toxiproxy_8474\", @bulkhead=","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5241,"event":"return","thread_id":3300,"parent_id":5240,"elapsed":6.259e-06,"return_value":{"class":"Array","value":"[]","object_id":25620}},{"id":5242,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":3520,"value":"Net::HTTP[toxiproxy:8474]"}},{"id":5243,"event":"return","thread_id":3300,"parent_id":5242,"elapsed":5.823e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25480}},{"id":5244,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"mark_success","path":"lib/semian/circuit_breaker.rb","lineno":63,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":6780,"value":"#<Semian::CircuitBreaker:0x00005600eb552f20>"}},{"id":5245,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":6760,"value":"#<Semian::ThreadSafe::State:0x00005600eb552408>"}},{"id":5246,"event":"return","thread_id":3300,"parent_id":5245,"elapsed":4.387e-06},{"id":5247,"event":"return","thread_id":3300,"parent_id":5244,"elapsed":7.1204e-05},{"id":5248,"event":"return","thread_id":3300,"parent_id":5229,"elapsed":0.001649889,"return_value":{"class":"Net::HTTPOK","value":"#<Net::HTTPOK:0x00005600eaf1ae50>","object_id":25640}},{"id":5249,"event":"return","thread_id":3300,"parent_id":5228,"elapsed":0.001772981,"return_value":{"class":"Net::HTTPOK","value":"#<Net::HTTPOK:0x00005600eaf1ae50>","object_id":25640}},{"id":5250,"event":"return","thread_id":3300,"parent_id":5221,"elapsed":0.002221052,"return_value":{"class":"Net::HTTPOK","value":"#<Net::HTTPOK:0x00005600eaf1ae50>","object_id":25640}},{"id":5251,"event":"return","thread_id":3300,"parent_id":5220,"elapsed":0.00239135,"http_client_response":{"status_code":200,"headers":{"Content-Type":"application/json","Date":"Tue, 19 Oct 2021 19:24:49 GMT","Content-Length":"521","Connection":"close"}}},{"id":5252,"event":"call","thread_id":3300,"defined_class":"Toxiproxy","method_id":"assert_response","path":"vendor/bundle/ruby/2.7.0/gems/toxiproxy-1.0.3/lib/toxiproxy.rb","lineno":248,"static":true,"parameters":[{"name":"response","class":"Net::HTTPOK","object_id":25640,"value":"#<Net::HTTPOK:0x00005600eaf1ae50>","kind":"req"}],"receiver":{"class":"Class","object_id":3500,"value":"Toxiproxy"}},{"id":5253,"event":"return","thread_id":3300,"parent_id":5252,"elapsed":7.575e-06},{"id":5254,"event":"call","thread_id":3300,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":25660,"value":"#<JSON::Ext::Parser:0x00005600eaec1198>"}},{"id":5255,"event":"return","thread_id":3300,"parent_id":5254,"elapsed":2.2012e-05,"return_value":{"class":"Hash","value":"{\"semian_test_grpc\"=>{\"name\"=>\"semian_test_grpc\", \"listen\"=>\"172.22.0.4:50052\", \"upstream\"=>\"semian:","object_id":25680}},{"id":5256,"event":"return","thread_id":3300,"parent_id":5169,"elapsed":0.008112302,"return_value":{"class":"Toxiproxy","value":"#<Toxiproxy:0x00005600eae82fd8>","object_id":25700}},{"id":5257,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5258,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"retrieve_semian_configuration","path":"lib/semian/net_http.rb","lineno":55,"static":true,"parameters":[{"name":"host","class":"String","object_id":9120,"value":"semian","kind":"req"},{"name":"port","class":"Integer","object_id":62101,"value":"31050","kind":"req"}],"receiver":{"class":"Module","object_id":3280,"value":"Semian::NetHTTP"}},{"id":5259,"event":"return","thread_id":3300,"parent_id":5258,"elapsed":7.264e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25740}},{"id":5260,"event":"return","thread_id":3300,"parent_id":5257,"elapsed":0.000149687,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5261,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"connect","path":"lib/semian/net_http.rb","lineno":81,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5262,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"disabled?","path":"lib/semian/net_http.rb","lineno":77,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5263,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5264,"event":"return","thread_id":3300,"parent_id":5263,"elapsed":3.931e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5265,"event":"return","thread_id":3300,"parent_id":5262,"elapsed":0.000104273},{"id":5266,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5267,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5268,"event":"return","thread_id":3300,"parent_id":5267,"elapsed":3.889e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5269,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"resource_exceptions","path":"lib/semian/net_http.rb","lineno":73,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5270,"event":"return","thread_id":3300,"parent_id":5269,"elapsed":5.721e-06,"return_value":{"class":"Array","value":"[Timeout::Error, SocketError, Net::HTTPBadResponse, Net::HTTPHeaderSyntaxError, Net::ProtocolError, ","object_id":22160}},{"id":5271,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"semian_identifier","path":"lib/semian/net_http.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5272,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5273,"event":"return","thread_id":3300,"parent_id":5272,"elapsed":4.548e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5274,"event":"return","thread_id":3300,"parent_id":5271,"elapsed":0.000211298,"return_value":{"class":"String","value":"nethttp_semian_31050","object_id":25780}},{"id":5275,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"retrieve_or_register","path":"lib/semian.rb","lineno":170,"static":true,"parameters":[{"name":"name","class":"String","object_id":25780,"value":"nethttp_semian_31050","kind":"req"},{"name":"args","class":"Hash","object_id":25800,"value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","kind":"keyrest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5276,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"consumers","path":"lib/semian.rb","lineno":230,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5277,"event":"return","thread_id":3300,"parent_id":5276,"elapsed":3.978e-06,"return_value":{"class":"Hash","value":"","object_id":3800}},{"id":5278,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"consumers","path":"lib/semian.rb","lineno":230,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5279,"event":"return","thread_id":3300,"parent_id":5278,"elapsed":4.288e-06,"return_value":{"class":"Hash","value":"","object_id":3800}},{"id":5280,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"[]","path":"lib/semian.rb","lineno":183,"static":true,"parameters":[{"name":"name","class":"String","object_id":25780,"value":"nethttp_semian_31050","kind":"req"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5281,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"resources","path":"lib/semian.rb","lineno":225,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5282,"event":"return","thread_id":3300,"parent_id":5281,"elapsed":4.217e-06,"return_value":{"class":"LRUHash","value":"#<LRUHash:0x00005600eb5bb390>","object_id":3420}},{"id":5283,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"[]","path":"lib/semian/lru_hash.rb","lineno":115,"static":false,"parameters":[{"name":"key","class":"String","object_id":25780,"value":"nethttp_semian_31050","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5284,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"get","path":"lib/semian/lru_hash.rb","lineno":94,"static":false,"parameters":[{"name":"key","class":"String","object_id":25780,"value":"nethttp_semian_31050","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5285,"event":"return","thread_id":3300,"parent_id":5284,"elapsed":6.425e-06},{"id":5286,"event":"return","thread_id":3300,"parent_id":5283,"elapsed":9.098e-05},{"id":5287,"event":"return","thread_id":3300,"parent_id":5280,"elapsed":0.000253705},{"id":5288,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"register","path":"lib/semian.rb","lineno":159,"static":true,"parameters":[{"name":"name","class":"String","object_id":25780,"value":"nethttp_semian_31050","kind":"req"},{"name":"options","class":"Hash","object_id":25820,"value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","kind":"keyrest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5289,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"thread_safe?","path":"lib/semian.rb","lineno":239,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5290,"event":"return","thread_id":3300,"parent_id":5289,"elapsed":6.944e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5291,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::Integer","method_id":"reset","path":"lib/semian/simple_integer.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::Integer","object_id":25840,"value":"#<Semian::ThreadSafe::Integer:0x00005600eabade48>"}},{"id":5292,"event":"return","thread_id":3300,"parent_id":5291,"elapsed":5.147e-06,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5293,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"reset","path":"lib/semian/simple_state.rb","lineno":34,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5294,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"close!","path":"lib/semian/simple_state.rb","lineno":26,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5295,"event":"return","thread_id":3300,"parent_id":5294,"elapsed":4.549e-06,"return_value":{"class":"Symbol","value":"closed","object_id":4194588}},{"id":5296,"event":"return","thread_id":3300,"parent_id":5293,"elapsed":8.9139e-05,"return_value":{"class":"Symbol","value":"closed","object_id":4194588}},{"id":5297,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"reset","path":"lib/semian/circuit_breaker.rb","lineno":69,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5298,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::SlidingWindow","method_id":"clear","path":"lib/semian/simple_sliding_window.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":25900,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>"}},{"id":5299,"event":"return","thread_id":3300,"parent_id":5298,"elapsed":4.577e-06,"return_value":{"class":"Semian::ThreadSafe::SlidingWindow","value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>","object_id":25900}},{"id":5300,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::Integer","method_id":"reset","path":"lib/semian/simple_integer.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::Integer","object_id":25840,"value":"#<Semian::ThreadSafe::Integer:0x00005600eabade48>"}},{"id":5301,"event":"return","thread_id":3300,"parent_id":5300,"elapsed":3.964e-06,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5302,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":25920,"value":"[:state_change, #<Semian::CircuitBreaker:0x00005600eabaf068 @name=:nethttp_semian_31050, @success_co","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5303,"event":"return","thread_id":3300,"parent_id":5302,"elapsed":6.596e-06,"return_value":{"class":"Array","value":"[]","object_id":25940}},{"id":5304,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"close!","path":"lib/semian/simple_state.rb","lineno":26,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5305,"event":"return","thread_id":3300,"parent_id":5304,"elapsed":3.969e-06,"return_value":{"class":"Symbol","value":"closed","object_id":4194588}},{"id":5306,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::SlidingWindow","method_id":"clear","path":"lib/semian/simple_sliding_window.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":25900,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>"}},{"id":5307,"event":"return","thread_id":3300,"parent_id":5306,"elapsed":3.752e-06,"return_value":{"class":"Semian::ThreadSafe::SlidingWindow","value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>","object_id":25900}},{"id":5308,"event":"return","thread_id":3300,"parent_id":5297,"elapsed":0.000590336,"return_value":{"class":"Semian::ThreadSafe::SlidingWindow","value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>","object_id":25900}},{"id":5309,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"semaphores_enabled?","path":"lib/semian/platform.rb","lineno":9,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5310,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"disabled?","path":"lib/semian/platform.rb","lineno":13,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5311,"event":"return","thread_id":3300,"parent_id":5310,"elapsed":4.594e-06},{"id":5312,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"sysv_semaphores_supported?","path":"lib/semian/platform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5313,"event":"return","thread_id":3300,"parent_id":5312,"elapsed":6.7e-06,"return_value":{"class":"MatchData","value":"linux","object_id":25960}},{"id":5314,"event":"return","thread_id":3300,"parent_id":5309,"elapsed":0.00014084,"return_value":{"class":"MatchData","value":"linux","object_id":25960}},{"id":5315,"event":"call","thread_id":3300,"defined_class":"Semian","method_id":"resources","path":"lib/semian.rb","lineno":225,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5316,"event":"return","thread_id":3300,"parent_id":5315,"elapsed":3.926e-06,"return_value":{"class":"LRUHash","value":"#<LRUHash:0x00005600eb5bb390>","object_id":3420}},{"id":5317,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"[]=","path":"lib/semian/lru_hash.rb","lineno":111,"static":false,"parameters":[{"name":"key","class":"String","object_id":25780,"value":"nethttp_semian_31050","kind":"req"},{"name":"resource","class":"Semian::ProtectedResource","object_id":25980,"value":"#<Semian::ProtectedResource:0x00005600ea571e58>","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5318,"event":"call","thread_id":3300,"defined_class":"LRUHash","method_id":"set","path":"lib/semian/lru_hash.rb","lineno":80,"static":false,"parameters":[{"name":"key","class":"String","object_id":25780,"value":"nethttp_semian_31050","kind":"req"},{"name":"resource","class":"Semian::ProtectedResource","object_id":25980,"value":"#<Semian::ProtectedResource:0x00005600ea571e58>","kind":"req"}],"receiver":{"class":"LRUHash","object_id":3420,"value":"#<LRUHash:0x00005600eb5bb390>"}},{"id":5319,"event":"return","thread_id":3300,"parent_id":5318,"elapsed":2.0973e-05},{"id":5320,"event":"return","thread_id":3300,"parent_id":5317,"elapsed":0.000123029},{"id":5321,"event":"return","thread_id":3300,"parent_id":5288,"elapsed":0.001800972,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5322,"event":"return","thread_id":3300,"parent_id":5275,"elapsed":0.002757354,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5323,"event":"return","thread_id":3300,"parent_id":5266,"elapsed":0.003496276,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5324,"event":"call","thread_id":3300,"defined_class":"Semian::ProtectedResource","method_id":"acquire","path":"lib/semian/protected_resource.rb","lineno":24,"static":false,"parameters":[{"name":"timeout","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"scope","class":"Symbol","object_id":2322588,"value":"connection","kind":"key"},{"name":"adapter","class":"Symbol","object_id":1914268,"value":"http","kind":"key"},{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"key"}],"receiver":{"class":"Semian::ProtectedResource","object_id":25980,"value":"#<Semian::ProtectedResource:0x00005600ea571e58>"}},{"id":5325,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"acquire","path":"lib/semian/circuit_breaker.rb","lineno":25,"static":false,"parameters":[{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"opt"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5326,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"transition_to_half_open?","path":"lib/semian/circuit_breaker.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5327,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"open?","path":"lib/semian/simple_state.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5328,"event":"return","thread_id":3300,"parent_id":5327,"elapsed":4.826e-06},{"id":5329,"event":"return","thread_id":3300,"parent_id":5326,"elapsed":7.5228e-05},{"id":5330,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"request_allowed?","path":"lib/semian/circuit_breaker.rb","lineno":49,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5331,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5332,"event":"return","thread_id":3300,"parent_id":5331,"elapsed":5.481e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5333,"event":"return","thread_id":3300,"parent_id":5330,"elapsed":0.000158977,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5334,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5335,"event":"return","thread_id":3300,"parent_id":5334,"elapsed":4.371e-06},{"id":5336,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":26000,"value":"[:success, #<Semian::ProtectedResource:0x00005600ea571e58 @name=\"nethttp_semian_31050\", @bulkhead=#<","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5337,"event":"return","thread_id":3300,"parent_id":5336,"elapsed":5.369e-06,"return_value":{"class":"Array","value":"[]","object_id":26020}},{"id":5338,"event":"call","thread_id":3020,"defined_class":"WEBrick::HTTPVersion","method_id":"convert","path":"vendor/bundle/ruby/2.7.0/gems/webrick-1.7.0/lib/webrick/httpversion.rb","lineno":32,"static":true,"parameters":[{"name":"version","class":"WEBrick::HTTPVersion","object_id":4060,"value":"1.1","kind":"req"}],"receiver":{"class":"Class","object_id":4080,"value":"WEBrick::HTTPVersion"}},{"id":5339,"event":"return","thread_id":3020,"parent_id":5338,"elapsed":6.507e-06,"return_value":{"class":"WEBrick::HTTPVersion","value":"1.1","object_id":4060}},{"id":5340,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"mark_success","path":"lib/semian/circuit_breaker.rb","lineno":63,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5341,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5342,"event":"return","thread_id":3300,"parent_id":5341,"elapsed":4.598e-06},{"id":5343,"event":"return","thread_id":3300,"parent_id":5340,"elapsed":7.5059e-05},{"id":5344,"event":"return","thread_id":3300,"parent_id":5325,"elapsed":0.004008165},{"id":5345,"event":"return","thread_id":3300,"parent_id":5324,"elapsed":0.004104213},{"id":5346,"event":"return","thread_id":3300,"parent_id":5261,"elapsed":0.007984543},{"id":5347,"event":"call","thread_id":3300,"http_client_request":{"request_method":"GET","url":"http://semian:31050/500","headers":{"Accept-Encoding":"gzip;q=1.0,deflate;q=0.6,identity;q=0.3","Accept":"*/*","User-Agent":"Ruby","Connection":"close"}}},{"id":5348,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"transport_request","path":"lib/semian/net_http.rb","lineno":86,"static":false,"parameters":[{"name":"arg","class":"Array","object_id":26060,"value":"[#<Net::HTTP::Get GET>]","kind":"rest"}],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5349,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"disabled?","path":"lib/semian/net_http.rb","lineno":77,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5350,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5351,"event":"return","thread_id":3300,"parent_id":5350,"elapsed":4.177e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5352,"event":"return","thread_id":3300,"parent_id":5349,"elapsed":9.3237e-05},{"id":5353,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5354,"event":"return","thread_id":3300,"parent_id":5353,"elapsed":4.23e-06,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5355,"event":"call","thread_id":3300,"defined_class":"Semian::ProtectedResource","method_id":"acquire","path":"lib/semian/protected_resource.rb","lineno":24,"static":false,"parameters":[{"name":"timeout","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"scope","class":"Symbol","object_id":1701788,"value":"query","kind":"key"},{"name":"adapter","class":"Symbol","object_id":1914268,"value":"http","kind":"key"},{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"key"}],"receiver":{"class":"Semian::ProtectedResource","object_id":25980,"value":"#<Semian::ProtectedResource:0x00005600ea571e58>"}},{"id":5356,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"acquire","path":"lib/semian/circuit_breaker.rb","lineno":25,"static":false,"parameters":[{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"opt"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5357,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"transition_to_half_open?","path":"lib/semian/circuit_breaker.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5358,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"open?","path":"lib/semian/simple_state.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5359,"event":"return","thread_id":3300,"parent_id":5358,"elapsed":4.253e-06},{"id":5360,"event":"return","thread_id":3300,"parent_id":5357,"elapsed":6.704e-05},{"id":5361,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"request_allowed?","path":"lib/semian/circuit_breaker.rb","lineno":49,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5362,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5363,"event":"return","thread_id":3300,"parent_id":5362,"elapsed":4.275e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5364,"event":"return","thread_id":3300,"parent_id":5361,"elapsed":7.4016e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5365,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5366,"event":"return","thread_id":3300,"parent_id":5365,"elapsed":3.798e-06},{"id":5367,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":26080,"value":"[:success, #<Semian::ProtectedResource:0x00005600ea571e58 @name=\"nethttp_semian_31050\", @bulkhead=#<","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5368,"event":"return","thread_id":3300,"parent_id":5367,"elapsed":5.843e-06,"return_value":{"class":"Array","value":"[]","object_id":26100}},{"id":5369,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5370,"event":"return","thread_id":3300,"parent_id":5369,"elapsed":5.353e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5371,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5372,"event":"return","thread_id":3300,"parent_id":5371,"elapsed":5.045e-06,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5373,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"mark_failed","path":"lib/semian/circuit_breaker.rb","lineno":53,"static":false,"parameters":[{"name":"error","class":"Net::HTTPInternalServerError","object_id":26240,"value":"#<Net::HTTPInternalServerError:0x00005600eb5e2170>","kind":"req"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5374,"event":"call","thread_id":3300,"defined_class":"Semian::ThreadSafe::SlidingWindow","method_id":"reject!","path":"lib/semian/simple_sliding_window.rb","lineno":59,"static":false,"parameters":[{"name":"arg","class":"Array","object_id":26260,"value":"[]","kind":"rest"}],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":25900,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>"}},{"id":5375,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::SlidingWindow","method_id":"reject!","path":"lib/semian/simple_sliding_window.rb","lineno":20,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":25900,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>"}},{"id":5376,"event":"return","thread_id":3300,"parent_id":5375,"elapsed":5.211e-06},{"id":5377,"event":"return","thread_id":3300,"parent_id":5374,"elapsed":6.5455e-05},{"id":5378,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::SlidingWindow","method_id":"<<","path":"lib/semian/simple_sliding_window.rb","lineno":24,"static":false,"parameters":[{"name":"value","class":"Integer","object_id":3269342999,"value":"1634671499","kind":"req"}],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":25900,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>"}},{"id":5379,"event":"return","thread_id":3300,"parent_id":5378,"elapsed":5.887e-06,"return_value":{"class":"Semian::ThreadSafe::SlidingWindow","value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>","object_id":25900}},{"id":5380,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5381,"event":"return","thread_id":3300,"parent_id":5380,"elapsed":4.67e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5382,"event":"return","thread_id":3300,"parent_id":5373,"elapsed":0.000343898},{"id":5383,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"mark_success","path":"lib/semian/circuit_breaker.rb","lineno":63,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5384,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5385,"event":"return","thread_id":3300,"parent_id":5384,"elapsed":5.065e-06},{"id":5386,"event":"return","thread_id":3300,"parent_id":5383,"elapsed":0.000135385},{"id":5387,"event":"return","thread_id":3300,"parent_id":5356,"elapsed":0.002783005,"return_value":{"class":"Net::HTTPInternalServerError","value":"#<Net::HTTPInternalServerError:0x00005600eb5e2170>","object_id":26240}},{"id":5388,"event":"return","thread_id":3300,"parent_id":5355,"elapsed":0.002889083,"return_value":{"class":"Net::HTTPInternalServerError","value":"#<Net::HTTPInternalServerError:0x00005600eb5e2170>","object_id":26240}},{"id":5389,"event":"return","thread_id":3300,"parent_id":5348,"elapsed":0.003266982,"return_value":{"class":"Net::HTTPInternalServerError","value":"#<Net::HTTPInternalServerError:0x00005600eb5e2170>","object_id":26240}},{"id":5390,"event":"return","thread_id":3300,"parent_id":5347,"elapsed":0.003400745,"http_client_response":{"status_code":500,"headers":{"Content-Type":"text/html","Server":"WEBrick/1.7.0 (Ruby/2.7.1/2020-03-31)","Date":"Tue, 19 Oct 2021 19:24:59 GMT","Content-Length":"0","Connection":"Keep-Alive"}}},{"id":5391,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"connect","path":"lib/semian/net_http.rb","lineno":81,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5392,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"disabled?","path":"lib/semian/net_http.rb","lineno":77,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5393,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5394,"event":"return","thread_id":3300,"parent_id":5393,"elapsed":7.007e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5395,"event":"return","thread_id":3300,"parent_id":5392,"elapsed":0.00023098},{"id":5396,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5397,"event":"return","thread_id":3300,"parent_id":5396,"elapsed":5.732e-06,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5398,"event":"call","thread_id":3300,"defined_class":"Semian::ProtectedResource","method_id":"acquire","path":"lib/semian/protected_resource.rb","lineno":24,"static":false,"parameters":[{"name":"timeout","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"scope","class":"Symbol","object_id":2322588,"value":"connection","kind":"key"},{"name":"adapter","class":"Symbol","object_id":1914268,"value":"http","kind":"key"},{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"key"}],"receiver":{"class":"Semian::ProtectedResource","object_id":25980,"value":"#<Semian::ProtectedResource:0x00005600ea571e58>"}},{"id":5399,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"acquire","path":"lib/semian/circuit_breaker.rb","lineno":25,"static":false,"parameters":[{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"opt"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5400,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"transition_to_half_open?","path":"lib/semian/circuit_breaker.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5401,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"open?","path":"lib/semian/simple_state.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5402,"event":"return","thread_id":3300,"parent_id":5401,"elapsed":1.0917e-05},{"id":5403,"event":"return","thread_id":3300,"parent_id":5400,"elapsed":0.000284889},{"id":5404,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"request_allowed?","path":"lib/semian/circuit_breaker.rb","lineno":49,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5405,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5406,"event":"return","thread_id":3300,"parent_id":5405,"elapsed":5.191e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5407,"event":"return","thread_id":3300,"parent_id":5404,"elapsed":0.000117456,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5408,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5409,"event":"return","thread_id":3300,"parent_id":5408,"elapsed":4.958e-06},{"id":5410,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":26280,"value":"[:success, #<Semian::ProtectedResource:0x00005600ea571e58 @name=\"nethttp_semian_31050\", @bulkhead=#<","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5411,"event":"return","thread_id":3300,"parent_id":5410,"elapsed":6.386e-06,"return_value":{"class":"Array","value":"[]","object_id":26300}},{"id":5412,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"mark_success","path":"lib/semian/circuit_breaker.rb","lineno":63,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5413,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5414,"event":"return","thread_id":3300,"parent_id":5413,"elapsed":5.324e-06},{"id":5415,"event":"return","thread_id":3300,"parent_id":5412,"elapsed":9.321e-05},{"id":5416,"event":"return","thread_id":3300,"parent_id":5399,"elapsed":0.002623009},{"id":5417,"event":"return","thread_id":3300,"parent_id":5398,"elapsed":0.002826687},{"id":5418,"event":"return","thread_id":3300,"parent_id":5391,"elapsed":0.003943623},{"id":5419,"event":"call","thread_id":3300,"http_client_request":{"request_method":"GET","url":"http://semian:31050/500","headers":{"Accept-Encoding":"gzip;q=1.0,deflate;q=0.6,identity;q=0.3","Accept":"*/*","User-Agent":"Ruby","Connection":"close"}}},{"id":5420,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"transport_request","path":"lib/semian/net_http.rb","lineno":86,"static":false,"parameters":[{"name":"arg","class":"Array","object_id":26340,"value":"[#<Net::HTTP::Get GET>]","kind":"rest"}],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5421,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"disabled?","path":"lib/semian/net_http.rb","lineno":77,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5422,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5423,"event":"return","thread_id":3300,"parent_id":5422,"elapsed":4.448e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5424,"event":"return","thread_id":3300,"parent_id":5421,"elapsed":0.000106861},{"id":5425,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5426,"event":"return","thread_id":3300,"parent_id":5425,"elapsed":4.146e-06,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5427,"event":"call","thread_id":3300,"defined_class":"Semian::ProtectedResource","method_id":"acquire","path":"lib/semian/protected_resource.rb","lineno":24,"static":false,"parameters":[{"name":"timeout","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"scope","class":"Symbol","object_id":1701788,"value":"query","kind":"key"},{"name":"adapter","class":"Symbol","object_id":1914268,"value":"http","kind":"key"},{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"key"}],"receiver":{"class":"Semian::ProtectedResource","object_id":25980,"value":"#<Semian::ProtectedResource:0x00005600ea571e58>"}},{"id":5428,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"acquire","path":"lib/semian/circuit_breaker.rb","lineno":25,"static":false,"parameters":[{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"opt"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5429,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"transition_to_half_open?","path":"lib/semian/circuit_breaker.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5430,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"open?","path":"lib/semian/simple_state.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5431,"event":"return","thread_id":3300,"parent_id":5430,"elapsed":6.793e-06},{"id":5432,"event":"return","thread_id":3300,"parent_id":5429,"elapsed":0.000169522},{"id":5433,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"request_allowed?","path":"lib/semian/circuit_breaker.rb","lineno":49,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5434,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5435,"event":"return","thread_id":3300,"parent_id":5434,"elapsed":4.394e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5436,"event":"return","thread_id":3300,"parent_id":5433,"elapsed":0.000106977,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5437,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5438,"event":"return","thread_id":3300,"parent_id":5437,"elapsed":4.283e-06},{"id":5439,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":26360,"value":"[:success, #<Semian::ProtectedResource:0x00005600ea571e58 @name=\"nethttp_semian_31050\", @bulkhead=#<","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5440,"event":"return","thread_id":3300,"parent_id":5439,"elapsed":7.718e-06,"return_value":{"class":"Array","value":"[]","object_id":26380}},{"id":5441,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5442,"event":"return","thread_id":3300,"parent_id":5441,"elapsed":5.789e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5443,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5444,"event":"return","thread_id":3300,"parent_id":5443,"elapsed":5.076e-06,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5445,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"mark_failed","path":"lib/semian/circuit_breaker.rb","lineno":53,"static":false,"parameters":[{"name":"error","class":"Net::HTTPInternalServerError","object_id":26520,"value":"#<Net::HTTPInternalServerError:0x00005600eb4f9240>","kind":"req"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5446,"event":"call","thread_id":3300,"defined_class":"Semian::ThreadSafe::SlidingWindow","method_id":"reject!","path":"lib/semian/simple_sliding_window.rb","lineno":59,"static":false,"parameters":[{"name":"arg","class":"Array","object_id":26540,"value":"[]","kind":"rest"}],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":25900,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>"}},{"id":5447,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::SlidingWindow","method_id":"reject!","path":"lib/semian/simple_sliding_window.rb","lineno":20,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":25900,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>"}},{"id":5448,"event":"return","thread_id":3300,"parent_id":5447,"elapsed":8.962e-06},{"id":5449,"event":"return","thread_id":3300,"parent_id":5446,"elapsed":7.1282e-05},{"id":5450,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::SlidingWindow","method_id":"<<","path":"lib/semian/simple_sliding_window.rb","lineno":24,"static":false,"parameters":[{"name":"value","class":"Integer","object_id":3269342999,"value":"1634671499","kind":"req"}],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":25900,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>"}},{"id":5451,"event":"return","thread_id":3300,"parent_id":5450,"elapsed":5.651e-06,"return_value":{"class":"Semian::ThreadSafe::SlidingWindow","value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>","object_id":25900}},{"id":5452,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5453,"event":"return","thread_id":3300,"parent_id":5452,"elapsed":4.142e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5454,"event":"return","thread_id":3300,"parent_id":5445,"elapsed":0.000360263},{"id":5455,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"mark_success","path":"lib/semian/circuit_breaker.rb","lineno":63,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5456,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5457,"event":"return","thread_id":3300,"parent_id":5456,"elapsed":3.932e-06},{"id":5458,"event":"return","thread_id":3300,"parent_id":5455,"elapsed":5.7367e-05},{"id":5459,"event":"return","thread_id":3300,"parent_id":5428,"elapsed":0.003163084,"return_value":{"class":"Net::HTTPInternalServerError","value":"#<Net::HTTPInternalServerError:0x00005600eb4f9240>","object_id":26520}},{"id":5460,"event":"return","thread_id":3300,"parent_id":5427,"elapsed":0.003279846,"return_value":{"class":"Net::HTTPInternalServerError","value":"#<Net::HTTPInternalServerError:0x00005600eb4f9240>","object_id":26520}},{"id":5461,"event":"return","thread_id":3300,"parent_id":5420,"elapsed":0.003690286,"return_value":{"class":"Net::HTTPInternalServerError","value":"#<Net::HTTPInternalServerError:0x00005600eb4f9240>","object_id":26520}},{"id":5462,"event":"return","thread_id":3300,"parent_id":5419,"elapsed":0.003826879,"http_client_response":{"status_code":500,"headers":{"Content-Type":"text/html","Server":"WEBrick/1.7.0 (Ruby/2.7.1/2020-03-31)","Date":"Tue, 19 Oct 2021 19:24:59 GMT","Content-Length":"0","Connection":"Keep-Alive"}}},{"id":5463,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"connect","path":"lib/semian/net_http.rb","lineno":81,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5464,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"disabled?","path":"lib/semian/net_http.rb","lineno":77,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5465,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5466,"event":"return","thread_id":3300,"parent_id":5465,"elapsed":4.015e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5467,"event":"return","thread_id":3300,"parent_id":5464,"elapsed":8.6275e-05},{"id":5468,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5469,"event":"return","thread_id":3300,"parent_id":5468,"elapsed":3.956e-06,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5470,"event":"call","thread_id":3300,"defined_class":"Semian::ProtectedResource","method_id":"acquire","path":"lib/semian/protected_resource.rb","lineno":24,"static":false,"parameters":[{"name":"timeout","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"scope","class":"Symbol","object_id":2322588,"value":"connection","kind":"key"},{"name":"adapter","class":"Symbol","object_id":1914268,"value":"http","kind":"key"},{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"key"}],"receiver":{"class":"Semian::ProtectedResource","object_id":25980,"value":"#<Semian::ProtectedResource:0x00005600ea571e58>"}},{"id":5471,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"acquire","path":"lib/semian/circuit_breaker.rb","lineno":25,"static":false,"parameters":[{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"opt"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5472,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"transition_to_half_open?","path":"lib/semian/circuit_breaker.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5473,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"open?","path":"lib/semian/simple_state.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5474,"event":"return","thread_id":3300,"parent_id":5473,"elapsed":3.944e-06},{"id":5475,"event":"return","thread_id":3300,"parent_id":5472,"elapsed":5.8172e-05},{"id":5476,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"request_allowed?","path":"lib/semian/circuit_breaker.rb","lineno":49,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5477,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5478,"event":"return","thread_id":3300,"parent_id":5477,"elapsed":3.66e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5479,"event":"return","thread_id":3300,"parent_id":5476,"elapsed":7.212e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5480,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5481,"event":"return","thread_id":3300,"parent_id":5480,"elapsed":3.841e-06},{"id":5482,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":26560,"value":"[:success, #<Semian::ProtectedResource:0x00005600ea571e58 @name=\"nethttp_semian_31050\", @bulkhead=#<","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5483,"event":"return","thread_id":3300,"parent_id":5482,"elapsed":5.983e-06,"return_value":{"class":"Array","value":"[]","object_id":26580}},{"id":5484,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"mark_success","path":"lib/semian/circuit_breaker.rb","lineno":63,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5485,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5486,"event":"return","thread_id":3300,"parent_id":5485,"elapsed":4.185e-06},{"id":5487,"event":"return","thread_id":3300,"parent_id":5484,"elapsed":7.6715e-05},{"id":5488,"event":"return","thread_id":3300,"parent_id":5471,"elapsed":0.002110186},{"id":5489,"event":"return","thread_id":3300,"parent_id":5470,"elapsed":0.002187451},{"id":5490,"event":"return","thread_id":3300,"parent_id":5463,"elapsed":0.002541793},{"id":5491,"event":"call","thread_id":3300,"http_client_request":{"request_method":"GET","url":"http://semian:31050/500","headers":{"Accept-Encoding":"gzip;q=1.0,deflate;q=0.6,identity;q=0.3","Accept":"*/*","User-Agent":"Ruby","Connection":"close"}}},{"id":5492,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"transport_request","path":"lib/semian/net_http.rb","lineno":86,"static":false,"parameters":[{"name":"arg","class":"Array","object_id":26620,"value":"[#<Net::HTTP::Get GET>]","kind":"rest"}],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5493,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"disabled?","path":"lib/semian/net_http.rb","lineno":77,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5494,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5495,"event":"return","thread_id":3300,"parent_id":5494,"elapsed":3.996e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5496,"event":"return","thread_id":3300,"parent_id":5493,"elapsed":0.000146223},{"id":5497,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5498,"event":"return","thread_id":3300,"parent_id":5497,"elapsed":4.169e-06,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5499,"event":"call","thread_id":3300,"defined_class":"Semian::ProtectedResource","method_id":"acquire","path":"lib/semian/protected_resource.rb","lineno":24,"static":false,"parameters":[{"name":"timeout","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"scope","class":"Symbol","object_id":1701788,"value":"query","kind":"key"},{"name":"adapter","class":"Symbol","object_id":1914268,"value":"http","kind":"key"},{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"key"}],"receiver":{"class":"Semian::ProtectedResource","object_id":25980,"value":"#<Semian::ProtectedResource:0x00005600ea571e58>"}},{"id":5500,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"acquire","path":"lib/semian/circuit_breaker.rb","lineno":25,"static":false,"parameters":[{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"opt"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5501,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"transition_to_half_open?","path":"lib/semian/circuit_breaker.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5502,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"open?","path":"lib/semian/simple_state.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5503,"event":"return","thread_id":3300,"parent_id":5502,"elapsed":3.88e-06},{"id":5504,"event":"return","thread_id":3300,"parent_id":5501,"elapsed":5.7135e-05},{"id":5505,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"request_allowed?","path":"lib/semian/circuit_breaker.rb","lineno":49,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5506,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5507,"event":"return","thread_id":3300,"parent_id":5506,"elapsed":3.753e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5508,"event":"return","thread_id":3300,"parent_id":5505,"elapsed":6.9551e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5509,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5510,"event":"return","thread_id":3300,"parent_id":5509,"elapsed":3.741e-06},{"id":5511,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":26640,"value":"[:success, #<Semian::ProtectedResource:0x00005600ea571e58 @name=\"nethttp_semian_31050\", @bulkhead=#<","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5512,"event":"return","thread_id":3300,"parent_id":5511,"elapsed":5.131e-06,"return_value":{"class":"Array","value":"[]","object_id":26660}},{"id":5513,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5514,"event":"return","thread_id":3300,"parent_id":5513,"elapsed":5.643e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5515,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5516,"event":"return","thread_id":3300,"parent_id":5515,"elapsed":4.566e-06,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5517,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"mark_failed","path":"lib/semian/circuit_breaker.rb","lineno":53,"static":false,"parameters":[{"name":"error","class":"Net::HTTPInternalServerError","object_id":26800,"value":"#<Net::HTTPInternalServerError:0x00005600eb40ff50>","kind":"req"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5518,"event":"call","thread_id":3300,"defined_class":"Semian::ThreadSafe::SlidingWindow","method_id":"reject!","path":"lib/semian/simple_sliding_window.rb","lineno":59,"static":false,"parameters":[{"name":"arg","class":"Array","object_id":26820,"value":"[]","kind":"rest"}],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":25900,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>"}},{"id":5519,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::SlidingWindow","method_id":"reject!","path":"lib/semian/simple_sliding_window.rb","lineno":20,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":25900,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>"}},{"id":5520,"event":"return","thread_id":3300,"parent_id":5519,"elapsed":1.0544e-05},{"id":5521,"event":"return","thread_id":3300,"parent_id":5518,"elapsed":7.3224e-05},{"id":5522,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::SlidingWindow","method_id":"<<","path":"lib/semian/simple_sliding_window.rb","lineno":24,"static":false,"parameters":[{"name":"value","class":"Integer","object_id":3269342999,"value":"1634671499","kind":"req"}],"receiver":{"class":"Semian::ThreadSafe::SlidingWindow","object_id":25900,"value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>"}},{"id":5523,"event":"return","thread_id":3300,"parent_id":5522,"elapsed":5.854e-06,"return_value":{"class":"Semian::ThreadSafe::SlidingWindow","value":"#<Semian::ThreadSafe::SlidingWindow:0x00005600eabaeb18>","object_id":25900}},{"id":5524,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5525,"event":"return","thread_id":3300,"parent_id":5524,"elapsed":4.082e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5526,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":26840,"value":"[:state_change, #<Semian::CircuitBreaker:0x00005600eabaf068 @name=:nethttp_semian_31050, @success_co","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5527,"event":"return","thread_id":3300,"parent_id":5526,"elapsed":6.033e-06,"return_value":{"class":"Array","value":"[]","object_id":26860}},{"id":5528,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"open!","path":"lib/semian/simple_state.rb","lineno":22,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5529,"event":"return","thread_id":3300,"parent_id":5528,"elapsed":4.495e-06,"return_value":{"class":"Symbol","value":"open","object_id":325788}},{"id":5530,"event":"return","thread_id":3300,"parent_id":5517,"elapsed":0.000789485,"return_value":{"class":"Symbol","value":"open","object_id":325788}},{"id":5531,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"mark_success","path":"lib/semian/circuit_breaker.rb","lineno":63,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5532,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5533,"event":"return","thread_id":3300,"parent_id":5532,"elapsed":4.19e-06},{"id":5534,"event":"return","thread_id":3300,"parent_id":5531,"elapsed":7.2398e-05},{"id":5535,"event":"return","thread_id":3300,"parent_id":5500,"elapsed":0.003173442,"return_value":{"class":"Net::HTTPInternalServerError","value":"#<Net::HTTPInternalServerError:0x00005600eb40ff50>","object_id":26800}},{"id":5536,"event":"return","thread_id":3300,"parent_id":5499,"elapsed":0.003268978,"return_value":{"class":"Net::HTTPInternalServerError","value":"#<Net::HTTPInternalServerError:0x00005600eb40ff50>","object_id":26800}},{"id":5537,"event":"return","thread_id":3300,"parent_id":5492,"elapsed":0.003714295,"return_value":{"class":"Net::HTTPInternalServerError","value":"#<Net::HTTPInternalServerError:0x00005600eb40ff50>","object_id":26800}},{"id":5538,"event":"return","thread_id":3300,"parent_id":5491,"elapsed":0.003812903,"http_client_response":{"status_code":500,"headers":{"Content-Type":"text/html","Server":"WEBrick/1.7.0 (Ruby/2.7.1/2020-03-31)","Date":"Tue, 19 Oct 2021 19:24:59 GMT","Content-Length":"0","Connection":"Keep-Alive"}}},{"id":5539,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"connect","path":"lib/semian/net_http.rb","lineno":81,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5540,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"disabled?","path":"lib/semian/net_http.rb","lineno":77,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5541,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5542,"event":"return","thread_id":3300,"parent_id":5541,"elapsed":3.977e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5543,"event":"return","thread_id":3300,"parent_id":5540,"elapsed":8.3695e-05},{"id":5544,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5545,"event":"return","thread_id":3300,"parent_id":5544,"elapsed":3.778e-06,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5546,"event":"call","thread_id":3300,"defined_class":"Semian::ProtectedResource","method_id":"acquire","path":"lib/semian/protected_resource.rb","lineno":24,"static":false,"parameters":[{"name":"timeout","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"scope","class":"Symbol","object_id":2322588,"value":"connection","kind":"key"},{"name":"adapter","class":"Symbol","object_id":1914268,"value":"http","kind":"key"},{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"key"}],"receiver":{"class":"Semian::ProtectedResource","object_id":25980,"value":"#<Semian::ProtectedResource:0x00005600ea571e58>"}},{"id":5547,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"acquire","path":"lib/semian/circuit_breaker.rb","lineno":25,"static":false,"parameters":[{"name":"resource","class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]","kind":"opt"},{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5548,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"transition_to_half_open?","path":"lib/semian/circuit_breaker.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5549,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"open?","path":"lib/semian/simple_state.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5550,"event":"return","thread_id":3300,"parent_id":5549,"elapsed":4.042e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5551,"event":"return","thread_id":3300,"parent_id":5548,"elapsed":8.5586e-05},{"id":5552,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"request_allowed?","path":"lib/semian/circuit_breaker.rb","lineno":49,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5553,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"closed?","path":"lib/semian/simple_state.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5554,"event":"return","thread_id":3300,"parent_id":5553,"elapsed":3.901e-06},{"id":5555,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"half_open?","path":"lib/semian/simple_state.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5556,"event":"return","thread_id":3300,"parent_id":5555,"elapsed":3.89e-06},{"id":5557,"event":"call","thread_id":3300,"defined_class":"Semian::CircuitBreaker","method_id":"transition_to_half_open?","path":"lib/semian/circuit_breaker.rb","lineno":45,"static":false,"parameters":[],"receiver":{"class":"Semian::CircuitBreaker","object_id":25880,"value":"#<Semian::CircuitBreaker:0x00005600eabaf068>"}},{"id":5558,"event":"call","thread_id":3300,"defined_class":"Semian::Simple::State","method_id":"open?","path":"lib/semian/simple_state.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Semian::ThreadSafe::State","object_id":25860,"value":"#<Semian::ThreadSafe::State:0x00005600eab8a060>"}},{"id":5559,"event":"return","thread_id":3300,"parent_id":5558,"elapsed":3.861e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5560,"event":"return","thread_id":3300,"parent_id":5557,"elapsed":8.5124e-05},{"id":5561,"event":"return","thread_id":3300,"parent_id":5552,"elapsed":0.000235506},{"id":5562,"event":"return","thread_id":3300,"parent_id":5547,"elapsed":0.000484109,"exceptions":[{"class":"Semian::OpenCircuitError","message":"Semian::OpenCircuitError","object_id":26880,"path":"/workspace/lib/semian/circuit_breaker.rb","lineno":29}]},{"id":5563,"event":"call","thread_id":3300,"defined_class":"Semian::Instrumentable","method_id":"notify","path":"lib/semian/instrumentable.rb","lineno":18,"static":true,"parameters":[{"name":"args","class":"Array","object_id":26900,"value":"[:circuit_open, #<Semian::ProtectedResource:0x00005600ea571e58 @name=\"nethttp_semian_31050\", @bulkhe","kind":"rest"}],"receiver":{"class":"Module","object_id":3400,"value":"Semian"}},{"id":5564,"event":"return","thread_id":3300,"parent_id":5563,"elapsed":5.387e-06,"return_value":{"class":"Array","value":"[]","object_id":26920}},{"id":5565,"event":"return","thread_id":3300,"parent_id":5546,"elapsed":0.000796358,"exceptions":[{"class":"Semian::OpenCircuitError","message":"Semian::OpenCircuitError","object_id":26880,"path":"/workspace/lib/semian/circuit_breaker.rb","lineno":29}]},{"id":5566,"event":"call","thread_id":3300,"defined_class":"Semian::Adapter","method_id":"semian_resource","path":"lib/semian/adapter.rb","lineno":9,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5567,"event":"return","thread_id":3300,"parent_id":5566,"elapsed":4.204e-06,"return_value":{"class":"Semian::ProtectedResource","value":"#<Semian::ProtectedResource:0x00005600ea571e58>","object_id":25980}},{"id":5568,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"semian_identifier","path":"lib/semian/net_http.rb","lineno":31,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5569,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"raw_semian_options","path":"lib/semian/net_http.rb","lineno":66,"static":false,"parameters":[],"receiver":{"class":"Net::HTTP","object_id":25720,"value":"Net::HTTP[semian:31050]"}},{"id":5570,"event":"return","thread_id":3300,"parent_id":5569,"elapsed":3.993e-06,"return_value":{"class":"Hash","value":"{:tickets=>2, :success_threshold=>1, :error_threshold=>3, :error_timeout=>10, :open_circuit_server_e","object_id":25760}},{"id":5571,"event":"return","thread_id":3300,"parent_id":5568,"elapsed":0.00010367,"return_value":{"class":"String","value":"nethttp_semian_31050","object_id":26940}},{"id":5572,"event":"return","thread_id":3300,"parent_id":5539,"elapsed":0.001548579,"exceptions":[{"class":"Net::CircuitOpenError","message":"[nethttp_semian_31050] Semian::OpenCircuitError caused by Internal Server Error","object_id":26960,"path":"/workspace/lib/semian/adapter.rb","lineno":41}]},{"id":5573,"event":"call","thread_id":3300,"defined_class":"Semian::NetHTTP","method_id":"semian_configuration=","path":"lib/semian/net_http.rb","lineno":50,"static":true,"parameters":[{"name":"configuration","class":"NilClass","object_id":8,"value":null,"kind":"req"}],"receiver":{"class":"Module","object_id":3280,"value":"Semian::NetHTTP"}},{"id":5574,"event":"return","thread_id":3300,"parent_id":5573,"elapsed":5.284e-06}]}